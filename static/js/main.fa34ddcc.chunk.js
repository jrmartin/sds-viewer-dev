(this["webpackJsonpsds-viewer"]=this["webpackJsonpsds-viewer"]||[]).push([[0],{12:function(e,t,r){"use strict";t.a={fontFamily:"Inter, sans-serif",primaryColor:"#3779E1",primaryColorHover:"#2763C1",outlinedButtonHover:"#E4EEFF",secondaryColor:"#222739",searchBg:"rgba(255, 255, 255, 0.1)",primaryBgColor:"#F5F7FB",primaryTextColor:"#2E3A59",lightBorderColor:"rgba(255, 255, 255, 0.1)",noInstanceColor:"rgba(255, 255, 255, 0.6)",inputTextColor:"rgba(255, 255, 255, 0.8)",iconButtonHover:"rgba(255, 255, 255, 0.2)",radius:8,gutter:16,whiteColor:"#FFFFFF",sidebarIconColor:"rgba(221, 221, 221, 0.8)",primaryTransition:"all ease-in-out .3s",errorColor:"#ED745D",progressErrorColor:"rgba(237, 116, 93, 0.1)",barSuccessColor:"#6FC386",tabsBgColor:"#F5F8FD",progressBgPrimary:"rgba(55, 121, 225, 0.1)",dropzoneBorderColor:"rgba(55, 121, 225, 0.3)",dropzoneTextColor:"rgba(46, 58, 89, 0.3)",inputFocusShadow:"rgba(55, 121, 225, 0.1)",successInputFocusShadow:"rgba(111, 195, 134, 0.1)",placeHolderColor:"rgba(46, 58, 89, 0.6)",dialogShadow:"rgba(0, 0, 0, 0.1)",tabsBorderColor:"rgba(0, 0, 0, 0.1)",dialogBodyBgColor:"rgba(55, 121, 225, 0.05)",sideBarTextColor:"rgba(46, 58, 89, 0.8)",chipBgColor:"rgba(46, 58, 89, 0.05)",dataset:"#3779E1",matlab:"#6FC386",nifti:"#7747F6",volume:"#3779E1",sideBarLabelColor:"rgba(46, 58, 89, 0.4)",treeBorderColor:"#4E5261",scrollbarBg:"rgba(0, 0, 0, 0.24)"}},145:function(e,t,r){"use strict";t.a=r.p+"static/media/dataset.3c0498c8.svg"},146:function(e,t,r){"use strict";t.a=r.p+"static/media/folder.d55ab3f1.svg"},147:function(e,t,r){"use strict";t.a=r.p+"static/media/file.4236de94.svg"},15:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return o}));var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",a={Ontology:{image:"./images/graph/database.svg",key:"Ontology",properties:[]},Award:{image:"./images/graph/files/default_file.svg",key:"Award",properties:[]},Collection:{image:"./images/graph/folder.svg",key:"Collection",properties:[]},Dataset:{image:"./images/graph/dataset.svg",key:"Dataset",properties:[{type:"rdfs",key:"label",property:"label",label:"To be filled"},{type:"isAbout",key:"",property:"isAbout",label:"To be filled"},{type:"TEMP",key:"contentsWereUpdatedAtTime",property:"latestUpdate",label:"To be filled"},{type:"TEMP",key:"errorIndex",property:"errorIndex",label:"To be filled"},{type:"TEMP",key:"hasAwardNumber",property:"hasAwardNumber",label:"To be filled"},{type:"TEMP",key:"hasContactPerson",property:"hasContactPerson",label:"To be filled"},{type:"TEMP",key:"hasDatasetTemplateSchemaVersion",property:"hasDatasetTemplateSchemaVersion",label:"To be filled"},{type:"TEMP",key:"hasExperimentalModality",property:"hasExperimentalModality",label:"To be filled"},{type:"TEMP",key:"hasResponsiblePrincipalInvestigator",property:"hasResponsiblePrincipalInvestigator",label:"To be filled"},{type:"TEMP",key:"hasUriHuman",property:"hasUriHuman",label:"To be filled"},{type:"TEMP",key:"protocolEmploysTechnique",property:"protocolEmploysTechnique",label:"To be filled"}]},File:{image:"./images/graph/files/default_file.svg",key:"File",properties:[]},Subject:{image:"./images/graph/folder.svg",key:"Subject",properties:[{type:"sparc",key:"animalSubjectIsOfSpecies",property:"subjectSpecies",label:"to be filled"},{type:"sparc",key:"animalSubjectIsOfStrain",property:"subjectStrain",label:"to be filled"},{type:"TEMP",key:"hasAge",property:"age",label:"to be filled"},{type:"TEMP",key:"hasAgeCategory",property:"hasAgeCategory",label:"to be filled"},{type:"TEMP",key:"hasAssignedGroup",property:"hasAssignedGroup",label:"to be filled"},{type:"TEMP",key:"hasBiologicalSex",property:"biologicalSex",label:"to be filled"},{type:"TEMP",key:"localId",property:"identifier",label:"to be filled"},{type:"TEMP",key:"hasDerivedInformationAsParticipant",property:"hasDerivedInformationAsParticipant",label:"to be filled"},{type:"sparc",key:"specimenHasIdentifier",property:"specimenHasIdentifier",label:"to be filled"},{type:"TEMP",key:"participantInPerformanceOf",property:"participantInPerformanceOf",label:"to be filled"}]},Sample:{image:"./images/graph/folder.svg",key:"Sample",properties:[{type:"TEMP",key:"hasFolderAboutIt",property:"hasFolderAboutIt",label:"Folder that contains collection and files about the sample"},{type:"TEMP",key:"wasDerivedFromSubject",property:"derivedFrom",label:"Derived from the subject"},{type:"TEMP",key:"localId",property:"identifier",label:"Unique instance identifier"},{type:"TEMP",key:"hasAssignedGroup",property:"hasAssignedGroup",label:"to be filled"},{type:"TEMP",key:"hasDerivedInformationAsParticipant",property:"hasDerivedInformationAsParticipant",label:"to be filled"},{type:"TEMP",key:"hasDigitalArtifactThatIsAboutIt",property:"hasDigitalArtifactThatIsAboutIt",label:"Unique instance identifier"},{type:"TEMP",key:"participantInPerformanceOf",property:"participantInPerformanceOf",label:"Unique instance identifier"},{type:"TEMPRAW",key:"wasExtractedFromAnatomicalRegion",property:"wasExtractedFromAnatomicalRegion",label:"Unique instance identifier"}]},Person:{image:"./images/graph/user.svg",key:"Person",properties:[{type:"sparc",key:"firstName",property:"firstName",label:"To be filled"},{type:"sparc",key:"lastName",property:"lastName",label:"To be filled"},{type:"TEMP",key:"middleName",property:"middleName",label:"To be filled"}]},Protocol:{image:"./images/graph/files/default_file.svg",key:"Protocol",properties:[{type:"rdfs",key:"label",property:"label",label:"To be filled"},{type:"TEMP",key:"protocolHasNumberOfSteps",property:"protocolHasNumberOfSteps",label:"To be filled"}]},Unknown:{image:"./images/graph/files/default_file.svg",key:"Unknown",properties:[]}},o={NamedIndividual:{ORCID:{type:"Person"},awards:{type:"Award"},collection:{type:"Collection"},contributor:{type:"Person"},dataset:{type:"Dataset"},sample:{type:"Sample"},subject:{type:"Subject"}},sparc:{Protocol:{type:"Protocol",length:999}},ontology:{type:"Ontology",length:999},unknown:{type:"Unknown",length:0}}},226:function(e,t,r){"use strict";(function(e){var n=r(18),a=(r(287),r(259)),o=r(0),i=r(244),l=r(125),d=r(231),s=r(28),c=r(258),u=r(232),p=r(233),b=r(256),h=r(401),m=r(405),g=r(2);t.a=Object(i.hot)(e)((function(){var e=Object(o.useState)(!1),t=Object(n.a)(e,2),r=t[0],i=t[1],v=Object(s.c)((function(e){return e.sdsState.datasets})),f=Object(s.c)((function(e){return e.sdsState.error_message}));return Object(g.jsxs)(h.a,{theme:a.a,children:[Object(g.jsx)(m.a,{}),Object(g.jsxs)(l.a,{display:"flex",className:"main-structure",children:[Object(g.jsx)(c.a,{openDialog:r,setOpenDialog:i}),Object(g.jsx)(l.a,{className:"content full-round",children:v.length>0?Object(g.jsx)(d.a,{}):Object(g.jsx)(u.a,{openDialog:r,setOpenDialog:i})})]}),Object(g.jsx)(b.a,{open:r,handleClose:function(){return i(!1)}}),Object(g.jsx)(p.a,{open:null!==f,error_message:f})]})}))}).call(this,r(286)(e))},231:function(e,t,r){"use strict";var n=r(18),a=r(28),o=r(0),i=r(402),l=r(403),d=r(141),s=r(2),c=Object(i.a)({layoutContainer:{position:"relative",width:"100%",height:"100%"}});t.a=function(){var e=c(),t=Object(a.d)(),r=Object(o.useState)(void 0),i=Object(n.a)(r,2),u=i[0],p=i[1];return Object(o.useEffect)((function(){if(void 0===u){var e=Object(d.getLayoutManagerInstance)();e.model.visitNodes((function(e,t){e.setEventListener("resize",(function(e){var t=new CustomEvent("nodeResized",{detail:e});document.dispatchEvent(t)}))})),e&&p(e.getComponent())}}),[t,u]),Object(s.jsx)("div",{className:e.layoutContainer,children:void 0===u?Object(s.jsx)(l.a,{}):Object(s.jsx)(u,{})})}},232:function(e,t,r){"use strict";r(0);var n=r(125),a=r(77),o=r(404),i=r(8),l=r(2);t.a=function(e){return Object(l.jsxs)(n.a,{className:"MuiBox-empty",children:[Object(l.jsxs)(a.a,{variant:"h3",children:[i.c," to start."]}),Object(l.jsxs)(o.a,{variant:"outlined",color:"primary",onClick:function(){return e.setOpenDialog(!0)},children:["+ ",i.c]})]})}},233:function(e,t,r){"use strict";r(0);var n=r(410),a=r(125),o=r(77),i=r(28),l=r(36),d=r(2);t.a=function(e){var t=e.open,r=e.error_message,s=Object(i.b)();return Object(d.jsxs)(n.a,{open:t,onClose:function(){s(Object(l.h)(null))},children:[Object(d.jsx)(a.a,{className:"dialog_header",children:Object(d.jsx)(o.a,{variant:"h3",children:" Generic Error Message"})}),Object(d.jsx)(a.a,{className:"dialog_body",children:Object(d.jsxs)(o.a,{variant:"h8",children:[" ",r," "]})})]})}},256:function(e,t,r){"use strict";var n=r(29),a=r.n(n),o=r(21),i=r(75),l=r(18),d=r(0),s=r.n(d),c=r(27),u=r(26),p=r(257),b=r.p+"static/media/upload-icon.5d0c29ff.svg",h=r(404),m=r.p+"static/media/check.2d613265.svg",g=r(2),v=function(e){var t=e.handleClose;return Object(g.jsxs)(h.a,{variant:"contained",fullWidth:!0,disableElevation:!0,color:"primary",onClick:t,children:[Object(g.jsx)("img",{src:m,alt:"Check"}),"Done"]})},f=r(125),j=r(77),x=r(7),y=r(459),O=r(460),_=r(12),k=Object(x.a)((function(){return Object(y.a)({colorPrimary:{backgroundColor:_.a.progressErrorColor},barColorPrimary:{backgroundColor:_.a.errorColor}})}))(O.a),w=function(e){return e.error?Object(g.jsx)(k,Object(u.a)({variant:"determinate"},e)):Object(g.jsx)(O.a,Object(u.a)({variant:"determinate"},e))},C=function(e){var t,r=e.progress,n=e.file,a=e.errors,o=void 0===a?[]:a;return Object(g.jsxs)(f.a,{className:"wrap",children:[Object(g.jsx)(j.a,{children:null===n||void 0===n?void 0:n.name}),o.length>0?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(j.a,{component:"strong",children:null===(t=o[0])||void 0===t?void 0:t.message}),Object(g.jsx)(w,{value:20,error:!0})]}):r<100?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(j.a,{component:"span",children:[r,"%"]}),Object(g.jsx)(w,{value:r})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(j.a,{component:"strong",children:[r,"%"]}),Object(g.jsx)(w,{value:r,color:"secondary"})]})]})},S=r.p+"static/media/nft.b55f8c49.svg",T=r.p+"static/media/mtl.4967134b.svg",I=r.p+"static/media/database.df7b5a81.svg";function N(e){var t=e.src;return Object(g.jsx)("img",{src:"NFT"===t?S:"MTL"===t?T:I,alt:t})}var M=r.p+"static/media/cancel.285b834a.svg",D=r.p+"static/media/success.5ab945c8.svg",E=r(22),F=r(25),P=r(335),A=function(){function e(){Object(E.a)(this,e)}return Object(F.a)(e,[{key:"get_local_file",value:function(e,t,r){if(void 0!==e){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onprogress=function(e){if(e.lengthComputable){var t=parseInt(e.loaded/e.total*100,10);r(t)}},n.readAsText(e)}}},{key:"get_remote_file",value:function(e,t){P.get(e,{crossDomain:!0,responseType:"stream",onDownloadProgress:function(e){}}).then((function(r){t(e,r.data)})).catch((function(e){console.log(e),t(void 0)}))}}]),e}(),R=function(e,t,r){(new A).get_local_file(e,(function(t){r(e,t)}),t)};function B(e){var t=e.file,r=e.onDelete,n=e.onUpload,o=Object(d.useState)(0),s=Object(l.a)(o,2),c=s[0],u=s[1];return Object(d.useEffect)((function(){function e(){return(e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(t,u,n);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(g.jsxs)(f.a,{className:"uploaded-files_row",children:[Object(g.jsx)(N,{src:"MTL"}),Object(g.jsx)(C,{file:t,progress:c}),c<100?Object(g.jsx)("img",{src:M,onClick:function(){return r(t)},width:"24",style:{cursor:"pointer"},alt:"Cancel"}):Object(g.jsx)("img",{src:D,width:"24",alt:"SUCCESS"})]})}var z=r.p+"static/media/delete.6b54b734.svg";function H(e){var t=e.file,r=e.onDelete,n=e.errors;return Object(g.jsxs)(f.a,{className:"uploaded-files_row error",children:[Object(g.jsx)(N,{src:"NFT"}),Object(g.jsx)(C,{file:t,errors:n}),Object(g.jsx)("img",{src:z,onClick:function(){return r(t)},width:"24",style:{cursor:"pointer"},alt:"DELETE"})]})}function W(e){var t=e.files,r=e.onDelete,n=e.onUpload;return Object(g.jsxs)(f.a,{className:"uploaded-files",children:[Object(g.jsx)(j.a,{component:"h3",children:"Uploaded files"}),t.map((function(e){return Object(g.jsx)(f.a,{children:e.errors.length?Object(g.jsx)(H,{file:e.file,errors:e.errors,onDelete:r}):Object(g.jsx)(B,{onDelete:r,onUpload:n,file:e.file,totalFiles:t.length})},e.id)}))]})}var L=r(8),U=function(e){e.handleClose;var t=e.handleDone,r=Object(d.useState)([]),n=Object(l.a)(r,2),a=n[0],o=n[1],i=Object(d.useState)(0),h=Object(l.a)(i,2),m=h[0],f=h[1],j=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.map((function(e){return{file:e,errors:t?[]:[{message:"Error: File is too large"}],id:Math.random()}}));o((function(e){return[].concat(Object(c.a)(e),Object(c.a)(r))}))},x=s.a.useRef("dialog");return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(p.a,{onChange:function(e){},showPreviewsInDropzone:!1,onDrop:function(e){return j(e)},acceptedFiles:L.a.acceptedFileExtensions,maxFileSize:L.a.maxFileSize,onDropRejected:function(e){return j(e,!1)},showAlerts:!1,ref:x,Icon:function(){return Object(g.jsx)("img",{src:b,alt:"upload"})},dropzoneText:"Drag & Drop your files here",filesLimit:L.a.maxFiles}),a&&a.length?Object(g.jsx)(W,{files:a,onDelete:function(e){return o((function(t){return t.filter((function(t){return t.file!==e}))}))},onUpload:function(e,t){f((function(e){return e+1})),o((function(r){return r.map((function(r){return r.file===e?Object(u.a)(Object(u.a)({},r),{},{data:t}):r}))}))}}):null,m===a.length&&0!==m&&Object(g.jsx)(v,{handleClose:function(){t(a)}})]})},V=r(453),G=r(471),J=r(455),q=r(403),Y=r.p+"static/media/url.8265b8f5.svg",Q=r.p+"static/media/link-green.8889c463.svg",Z=function(e){e.handleClose;var t=e.handleDone,r=Object(d.useState)(!1),n=Object(l.a)(r,2),a=n[0],o=n[1],i=Object(d.useState)(""),s=Object(l.a)(i,2),c=s[0],p=s[1],b=Object(d.useState)(!1),m=Object(l.a)(b,2),f=m[0],j=m[1],x=Object(d.useState)([{id:"ttl",url:void 0,data:void 0,file:{name:"ttl",type:"text/turtle"}},{id:"json",url:void 0,data:void 0,file:{name:"json",type:"application/json"}}]),y=Object(l.a)(x,2),O=y[0],_=y[1];return Object(d.useEffect)((function(){a&&!f&&void 0!==O[0].data&&void 0!==O[1].data&&(o(!1),j(!0))}),[a,f,O]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(V.a,{variant:"filled",fullWidth:!0,children:Object(g.jsx)(G.a,{id:"url-uploader",placeholder:"Dataset URL",className:f?"field-success":"",startAdornment:Object(g.jsx)(J.a,{position:"start",children:Object(g.jsx)("img",{src:f?Q:Y,alt:"Link"})}),value:c,onChange:function(e){return p(e.target.value)},endAdornment:""!==c?Object(g.jsx)(J.a,{position:"end",onClick:function(){p(""),j(!1)},children:Object(g.jsx)("img",{src:M,alt:"CANCEL"})}):null})}),f?Object(g.jsx)(v,{handleClose:function(){t(O)}}):Object(g.jsx)(h.a,{variant:"contained",fullWidth:!0,disabled:""===c,disableElevation:!0,color:"primary",onClick:function(){var e=new A,t=new A,r=function(e,t){!function(e,t){var r=e.split(".").pop();_((function(n){return n.map((function(n){return n.id===r&&void 0!==t?Object(u.a)(Object(u.a)({},n),{},{url:e,data:t}):n}))}))}(e,t)};o(!0),e.get_remote_file(c,r),t.get_remote_file(function(e){var t=e.split("/"),r=t.pop().replace("N%3Adataset%3A","").replace(".ttl",""),n=t.shift();return t.pop(),t.map((function(e){return n=n+"/"+e,e})),n+"/path-metadata/"+r+"/LATEST_RUN/path-metadata.json"}(c),r)},children:a?Object(g.jsx)(q.a,{size:16,color:"primary"}):"Load"})]})},$=r(28),K=r(157),X=["children","value","index"],ee=function(e){var t=e.children,r=e.value,n=e.index,a=Object(K.a)(e,X);return Object(g.jsx)("div",Object(u.a)(Object(u.a)({role:"tabpanel",hidden:r!==n,className:"tab-content",id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},a),{},{children:r===n&&Object(g.jsx)(g.Fragment,{children:t})}))},te=r(410),re=r(465),ne=r(461),ae=r.p+"static/media/close.51de2817.svg";function oe(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var ie=function(e){var t=e.value,r=e.handleChange,n=e.handleClose;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("img",{src:ae,onClick:n,alt:"Close"}),Object(g.jsx)(j.a,{component:"h3",children:"Upload your dataset"}),Object(g.jsxs)(re.a,{className:"rounded",value:t,onChange:r,"aria-label":"simple tabs example",children:[Object(g.jsx)(ne.a,Object(u.a)({className:"rounded",label:"Local System"},oe(0))),Object(g.jsx)(ne.a,Object(u.a)({className:"rounded",label:"From a URL"},oe(1)))]})]})},le=r(36),de=r(59),se=(de.WidgetStatus.ACTIVE,{id:"nodeViewWidget",name:"Node View",component:"nodeView",panelName:"rightPanel",enableClose:!0,enableRename:!1,enableDrag:!1,status:de.WidgetStatus.ACTIVE}),ce=r(40),ue=r(15);function pe(e){var t=new Image;if(e.type===ue.a.File.key){var r=e.name.split(".").pop();t.src="./images/graph/files/"+r+".svg"}else{var n;t.src=""!==(null===(n=ue.a[String(e.type)])||void 0===n?void 0:n.image)?ue.a[String(e.type)].image:ue.a.Uknown.image}return t}function be(e,t){var r;if(void 0!==t){var n,a=Object(o.a)(e.properties);try{for(a.s();!(n=a.n()).done;){var i,l=n.value,d=Object(o.a)(ue.a[e.type].properties);try{for(d.s();!(i=d.n()).done;){var s,c,u=i.value;l.predicate===(null===(s=t[u.type])||void 0===s||null===(c=s.iri)||void 0===c?void 0:c.id)+u.key&&(void 0!==e.attributes[u.property]||(e.attributes[u.property]=[]),e.attributes[u.property].push(l.value))}}catch(p){d.e(p)}finally{d.f()}}}catch(p){a.e(p)}finally{a.f()}void 0!==(null===e||void 0===e||null===(r=e.attributes)||void 0===r?void 0:r.identifier)&&(e.name=e.attributes.identifier)}}var he=function(e,t){return e.img=pe(e),be(e,t),e},me=function(e,t){var r,n,a,o,i,l,d,s,c,u,p,b;return be(e,t),e.img=pe(e),e.name=void 0!==(null===(r=e.attributes)||void 0===r?void 0:r.firstName)?void 0!==(null===(n=e.attributes)||void 0===n?void 0:n.middleName)?void 0!==(null===(a=e.attributes)||void 0===a?void 0:a.lastName)?(null===(o=e.attributes)||void 0===o?void 0:o.firstName)+" "+(null===(i=e.attributes)||void 0===i?void 0:i.middleName)+" "+(null===(l=e.attributes)||void 0===l?void 0:l.lastName):(null===(d=e.attributes)||void 0===d?void 0:d.firstName)+" "+(null===(s=e.attributes)||void 0===s?void 0:s.middleName):void 0!==(null===(c=e.attributes)||void 0===c?void 0:c.lastName)?(null===(u=e.attributes)||void 0===u?void 0:u.firstName)+" "+(null===(p=e.attributes)||void 0===p?void 0:p.lastName):null===(b=e.attributes)||void 0===b?void 0:b.firstName:e.name,e},ge=function(e,t){be(e,t),e.img=pe(e);var r=e.name.split("/");return e.name=r[r.length-1],e},ve=function(e,t){e.img=pe(e),be(e,t);var r=e.name.split(":");return e.name=r[r.length-1],e},fe=function(e,t){e.img=pe(e),be(e,t);var r=e.name.split("/");return e.name=r[r.length-1],e},je=function(e,t){return e.img=pe(e),be(e,t),e},xe=function(e,t){var r;if(e.img=pe(e),be(e,t),void 0!==(null===(r=e.attributes)||void 0===r?void 0:r.identifier)){var n;e.name=null===(n=e.attributes)||void 0===n?void 0:n.identifier[0]}else{var a=e.name.split("/");e.name=a[a.length-1]}return e},ye=function(e,t){return e.img=pe(e),be(e,t),e},Oe=function(e,t){var r,n,a,o,i,l,d,s,c,u,p,b;return be(e,t),e.img=pe(e),e.name=void 0!==(null===(r=e.attributes)||void 0===r?void 0:r.firstName)?void 0!==(null===(n=e.attributes)||void 0===n?void 0:n.middleName)?void 0!==(null===(a=e.attributes)||void 0===a?void 0:a.lastName)?(null===(o=e.attributes)||void 0===o?void 0:o.firstName)+" "+(null===(i=e.attributes)||void 0===i?void 0:i.middleName)+" "+(null===(l=e.attributes)||void 0===l?void 0:l.lastName):(null===(d=e.attributes)||void 0===d?void 0:d.firstName)+" "+(null===(s=e.attributes)||void 0===s?void 0:s.middleName):void 0!==(null===(c=e.attributes)||void 0===c?void 0:c.lastName)?(null===(u=e.attributes)||void 0===u?void 0:u.firstName)+" "+(null===(p=e.attributes)||void 0===p?void 0:p.lastName):null===(b=e.attributes)||void 0===b?void 0:b.firstName:e.name,e},_e=function(e,t){return e.img=pe(e),be(e,t),e},ke=function(){this.createNode=function(e,t){var r;switch(e.type){case"Award":r=new ge(e,t);break;case"Collection":r=new he(e,t);break;case"Contributor":r=new me(e,t);break;case"Dataset":r=new ve(e,t);break;case"Protocol":r=new fe(e,t);break;case"Sample":r=new je(e,t);break;case"Subject":r=new xe(e,t);break;case"File":r=new ye(e,t);break;case"Person":r=new Oe(e,t);break;default:r=new _e(e,t)}return r}},we=r(395),Ce=function(){function e(t,r){Object(E.a)(this,e),this.filterNode=function(e){return e.basename.includes(".tmp")},this.factory=new ke,this.jsonFile=t,this.turtleFile=r,this.types={},this.jsonData={},this.levelsMap={},this.turtleData=[],this.tree=void 0,this.nodes=void 0,this.edges=void 0,this.root_id=void 0,this.tree_map=void 0,this.proxies_map=void 0,this.forced_edges=void 0,this.forced_nodes=void 0,this.tree_parents_map=void 0,this.dataset_id=this.processDatasetId(),this.store=new we.Store}return Object(F.a)(e,[{key:"initialiseNodesEdges",value:function(){this.edges=[],this.nodes=new Map,this.tree_map=new Map,this.proxies_map=new Map,this.tree_parents_map=new Map}},{key:"extractJson",value:function(){return"object"===typeof this.jsonFile&&null!==this.jsonFile?this.jsonFile:JSON.parse(this.jsonFile)}},{key:"extractTurtle",value:function(){var e=this;return new Promise((function(t,r){(new we.Parser).parse(e.turtleFile,(function(r,n,a){n?(e.store.addQuad(n),e.turtleData.push(n)):t(e.turtleData)}),(function(t,r){e.types[String(t)]={type:t,iri:r}}))}))}},{key:"getJson",value:function(){return this.jsonData}},{key:"getTurtle",value:function(){return this.turtleData}},{key:"getGraph",value:function(){var e=Object(i.a)(a.a.mark((function e(){var t,r,n,o,i,l,d,s,c,u,p=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.nodes&&void 0!==this.edges){e.next=3;break}return e.next=3,this.processDataset();case 3:return n=[],o=this,this.forced_edges.forEach((function(e){if(!n.find((function(t){return t.source===e.source&&t.target===e.target}))){var t=o.forced_nodes.find((function(t){return t.id===e.source})),r=o.forced_nodes.find((function(t){return t.id===e.target}));!t.neighbors&&(t.neighbors=[]),!r.neighbors&&(r.neighbors=[]),t.neighbors.push(r),r.neighbors.push(t),!t.links&&(t.links=[]),!r.links&&(r.links=[]),t.links.push(e),r.links.push(e),n.push(e)}})),i=Object.keys(this.levelsMap).reduce((function(e,t){return p.levelsMap[e].length>p.levelsMap[t].length?e:t})),l=100,d=0-Math.ceil(this.levelsMap[i].length)/2*l,s={},(c=Object.keys(this.levelsMap)).forEach((function(e){s[e]=d+50,p.levelsMap[e].sort((function(e,t){var r,n,a;return null===(r=e.attributes)||void 0===r||null===(n=r.relativePath)||void 0===n?void 0:n.localeCompare(null===(a=t.attributes)||void 0===a?void 0:a.relativePath)}))})),null===(t=this.levelsMap[3])||void 0===t||t.sort((function(e,t){var r,n,a;return null===(r=e.parent)||void 0===r||null===(n=r.type)||void 0===n?void 0:n.localeCompare(null===(a=t.parent)||void 0===a?void 0:a.type)})),null===(r=this.levelsMap[2])||void 0===r||r.sort((function(e,t){return t.neighbors.length-e.neighbors.length})),u=0,c.reverse().forEach((function(e){p.levelsMap[e].forEach((function(e,t){var r;(u=null===e||void 0===e||null===(r=e.neighbors)||void 0===r?void 0:r.filter((function(t){return t.level>e.level}))).length>0?(e.xPos=u[0].xPos+.5*(u[u.length-1].xPos-u[0].xPos),s[e.level]=e.xPos+l):(e.xPos=s[e.level]+l,s[e.level]=e.xPos)}))})),e.abrupt("return",{nodes:this.forced_nodes,links:n,radialVariant:this.levelsMap[i].length,hierarchyVariant:20*i});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTree",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==this.tree){e.next=3;break}return e.next=3,this.processDataset();case 3:return e.abrupt("return",this.tree);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDatasetId",value:function(){return this.dataset_id}},{key:"processTurtle",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractTurtle();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"processDatasetId",value:function(){return this.processJSON(),this.jsonData.data[0].dataset_id.replace("dataset:","")}},{key:"processJSON",value:function(){this.jsonData=this.extractJson()}},{key:"processDataset",value:function(){var e=Object(i.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.initialiseNodesEdges(),e.next=3,this.processTurtle();case 3:this.processJSON(),this.create_graph(),this.create_tree(),this.mergeData(),this.generateData();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"get_type",value:function(e){var t,r={type:ue.c.unknown.type,length:0},n=Object(o.a)(null===e||void 0===e?void 0:e.types);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(a.type===this.types.owl.iri.id+"NamedIndividual")for(var i in this.types)e.id.includes(this.types[i].iri.id)&&this.types[i].iri.id.length>r.length&&void 0!==ue.c.NamedIndividual[String(this.types[i].type)]&&(r.type=ue.c.NamedIndividual[String(this.types[i].type)].type,r.length=this.types[i].iri.id.length);else if(a.type===this.types.owl.iri.id+"Ontology")r.type=ue.c.ontology.type,r.length=ue.c.ontology.length;else if(a.type.includes(this.types.sparc.iri.id)&&void 0!==ue.c.sparc[a.type.split(this.types.sparc.iri.id).pop()]){var l=a.type.split(this.types.sparc.iri.id).pop();r.type=ue.c.sparc[l].type,r.length=ue.c.sparc[l].length}}}catch(d){n.e(d)}finally{n.f()}return r.type}},{key:"build_node",value:function(e){this.nodes.get(e.id)?(console.error("Issue with the build node, this node is already present"),console.error(e)):this.nodes.set(e.id,{id:e.id,attributes:{},types:[],name:e.value,proxies:[],properties:[],tree_reference:null,children_counter:0})}},{key:"update_node",value:function(e,t){var r=this;if(!we.Util.isBlankNode(e.subject)){var n=this.nodes.get(e.subject.id);if(n)e.predicate.id===ue.b?(n.types=[].concat(Object(c.a)(n.types),[{predicate:e.predicate.id,type:e.object.datatype?e.object.datatype.id:e.object.id,value:e.object.value}]),this.nodes.set(e.subject.id,n)):(n.properties=[].concat(Object(c.a)(n.properties),[{predicate:e.predicate.id,type:e.object.datatype?e.object.datatype.id:e.object.id,value:e.object.value}]),t&&(n.proxies=[].concat(Object(c.a)(n.proxies),[e.object.id]),this.proxies_map.set(e.object.id,e.subject.id)),this.nodes.set(e.subject.id,n));else{var a=!0;this.nodes.forEach((function(t,n){-1!==t.proxies.indexOf(String(e.subject.id))&&(t.properties=[].concat(Object(c.a)(t.properties),[{predicate:e.predicate.id,type:e.object.datatype,value:e.object.value}]),t.proxies=[].concat(Object(c.a)(t.proxies),[e.object.id]),r.proxies_map.set(e.object.id,n),r.nodes.set(n,t),a=!1)})),a&&(console.error("Houston, we have a problem!"),console.error(e))}}}},{key:"link_nodes",value:function(e){var t=this.nodes.get(e.subject.id),r=this.nodes.get(e.object.id);t&&r&&e.subject.id!==e.object.id?(this.edges.push({source:e.subject.id,target:e.object.id}),this.update_node(e,!1)):this.update_node(e,!0)}},{key:"cast_nodes",value:function(){var e=this,t=void 0,r=void 0;this.nodes.forEach((function(n,a){n.type=e.get_type(n);var o=e.factory.createNode(n,e.types);o.type!==ue.a.Unknown.key?e.nodes.set(a,o):(e.nodes.delete(a),e.edges=e.edges.filter((function(e){return e.source!==a&&e.target!==a}))),n.type===ue.c.NamedIndividual.dataset.type&&(t=n),n.type===ue.c.ontology.type&&(r=n)})),this.root_id=t.id,t.properties=t.properties.concat(r.properties),t.proxies=t.proxies.concat(r.proxies),t.level=1,this.nodes.set(t.id,t),this.nodes.delete(r.id);var n=this.edges.map((function(e){return e.source===r.id&&(e.source=t.id),e.target===r.id&&(e.target=t.id),e}));return this.edges=n,t}},{key:"organise_nodes",value:function(e){var t=this,r=e.id,n={id:L.h,name:"Subjects",type:ue.c.NamedIndividual.subject.type,properties:[],parent:e,proxies:[],level:4,tree_reference:null,children_counter:0};void 0===this.nodes.get(L.h)?(this.nodes.set(L.h,this.factory.createNode(n)),this.edges.push({source:r,target:n.id})):console.error("The subjects node already exists!");var a={id:L.g,name:"Protocols",type:ue.c.sparc.Protocol.type,properties:[],parent:e,proxies:[],level:2,tree_reference:null,children_counter:0};void 0===this.nodes.get(L.g)?(this.nodes.set(L.g,this.factory.createNode(a)),this.edges.push({source:r,target:a.id})):console.error("The subjects node already exists!");var o={id:L.e,name:"Contributors",type:ue.c.NamedIndividual.contributor.type,properties:[],parent:e,proxies:[],level:2,tree_reference:null,children_counter:0};void 0===this.nodes.get(L.e)?(this.nodes.set(L.e,this.factory.createNode(o)),this.edges.push({source:r,target:o.id})):console.error("The subjects node already exists!"),this.forced_edges=this.edges.filter((function(e){return e.target!==e.source&&t.nodes.get(e.source).level!==t.nodes.get(e.target).level})).map((function(e){if(e.target===r){var i=e.target;e.target=e.source,e.source=i}var l=t.nodes.get(e.target);e.source===r&&e.target!==L.h&&l.type===ue.a.Subject.key?(e.source=L.h,l.level=n.level+1,l.parent=n,t.nodes.set(l.id,l)):e.source===r&&e.target!==L.e&&l.type===ue.a.Person.key?(e.source=L.e,l.level=o.level+1,l.parent=o,t.nodes.set(l.id,l)):e.source===r&&e.target!==L.g&&l.type===ue.a.Protocol.key&&(e.source=L.g,l.level=a.level+1,l.parent=a,t.nodes.set(l.id,l));var d=t.nodes.get(e.source);return d.children_counter++,t.nodes.set(d.id,d),e})).filter((function(e){var n=t.nodes.get(e.target);return e.source!==r||n.type===ue.a.Award.key||e.target===L.e||e.target===L.h||e.target===L.g}))}},{key:"fix_links",value:function(){var e=this;this.forced_nodes.forEach((function(t,r,n){if(t.type===ue.a.Sample.key&&void 0!==t.attributes.derivedFrom){var a=e.nodes.get(t.attributes.derivedFrom[0]);void 0!==a&&(a.children_counter++,n[r].level=a.level+1,e.forced_edges.push({source:t.attributes.derivedFrom[0],target:t.id}))}void 0!==t.level&&(e.levelsMap[t.level]?e.levelsMap[t.level]=[].concat(Object(c.a)(e.levelsMap[t.level]),[t]):e.levelsMap[t.level]=[t])}))}},{key:"identify_childless_parents",value:function(){this.forced_nodes.forEach((function(e,t,r){e.type!==ue.a.Sample.key&&e.type!==ue.a.Subject.key||0!==e.children_counter||(e.img.src="./images/graph/question_mark.svg")}))}},{key:"create_graph",value:function(){var e,t=Object(o.a)(this.store.getSubjects());try{for(t.s();!(e=t.n()).done;){var r=e.value;we.Util.isBlankNode(r)||this.build_node(r)}}catch(c){t.e(c)}finally{t.f()}var n,a=Object(o.a)(this.turtleData.entries());try{for(a.s();!(n=a.n()).done;){var i=Object(l.a)(n.value,2),d=(i[0],i[1]);we.Util.isLiteral(d.object)||d.predicate.id===ue.b?this.update_node(d,!1):this.link_nodes(d)}}catch(c){a.e(c)}finally{a.f()}var s=this.cast_nodes();this.organise_nodes(s)}},{key:"create_tree",value:function(){var e,t=Object(o.a)(this.jsonData.data);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(this.tree_map.set(r.uri_api,r),r.parent_id!==r.remote_id){var n=this.tree_parents_map.get(r.parent_id);n?this.tree_parents_map.set(r.parent_id,[].concat(Object(c.a)(n),[r])):this.tree_parents_map.set(r.parent_id,[r])}}}catch(a){t.e(a)}finally{t.f()}}},{key:"mergeData",value:function(){var e=this;this.nodes.forEach((function(t,r){if(void 0!==t.attributes&&void 0!==t.attributes.hasFolderAboutIt){var n,a=e.tree_parents_map.get(null===(n=e.tree_map.get(t.attributes.hasFolderAboutIt[0]))||void 0===n?void 0:n.remote_id);null===a||void 0===a||a.forEach((function(r){!e.filterNode(r)&&e.linkToNode(r,t)}))}}))}},{key:"linkToNode",value:function(e,t){var r=this,n=t.level;t.type===ue.a.Sample.key&&void 0!==t.attributes.derivedFrom&&(n=this.nodes.get(t.attributes.derivedFrom[0]).level+1),t.children_counter++;var a=this.buildNodeFromJson(e,n);a.parent=t,this.forced_edges.push({source:t.id,target:a.id}),this.nodes.set(a.id,this.factory.createNode(a));var o=this.tree_parents_map.get(e.remote_id);(null===o||void 0===o?void 0:o.length)>0&&o.forEach((function(e){!r.filterNode(e)&&r.linkToNode(e,a)}))}},{key:"buildNodeFromJson",value:function(e,t){var r=this.proxies_map.get(e.uri_api);if(r)return this.nodes.get(r);var n={id:e.uri_api,level:t+1,attributes:{identifier:e.basename,relativePath:e.dataset_relative_path,size:e.size_bytes,mimetype:e.mimetype,updated:e.timestamp_updated,status:e.status},types:[],name:e.basename,proxies:[],properties:[],type:"inode/directory"===e.mimetype?"Collection":"File",tree_reference:null,children_counter:0};return this.factory.createNode(n,[])}},{key:"generateData",value:function(){var e=this,t=this.tree_map.get(this.root_id),r=this.tree_parents_map.get(t.remote_id);this.tree_parents_map.delete(t.remote_id),this.tree=this.generateLeaf(t),r.forEach((function(t){e.build_leaf(t,e.tree)})),this.forced_nodes=Array.from(this.nodes).map((function(t){var r=Object(l.a)(t,2),n=r[0],a=r[1],o=e.tree_map.get(a.id);return o?(a.tree_reference=o,e.nodes.set(n,a),o.graph_reference=a,e.tree_map.set(a.id,o)):a.proxies.every((function(t){return!(o=e.tree_map.get(t))||(a.tree_reference=o,e.nodes.set(n,a),o.graph_reference=a,e.tree_map.set(t,o),!1)})),a})),this.fix_links(),this.identify_childless_parents()}},{key:"build_leaf",value:function(e,t){var r=this,n=this.generateLeaf(e,t);t.items.push(n);var a=this.tree_parents_map.get(e.remote_id);this.tree_parents_map.delete(e.remote_id),a&&a.forEach((function(e){r.build_leaf(e,n)}))}},{key:"generateLeaf",value:function(e,t){var r;return e.id=e.uri_api,e.parent=!0,e.text=void 0!==t?e.basename:this.dataset_id,e.type="inode/directory"===e.mimetype?ue.a.Collection.key:ue.a.File.key,e.path=void 0!==t&&void 0!==t.path?[e.id].concat(Object(c.a)(t.path)):[e.id],e.items||(e.items=[]),e.graph_reference=this.findReference(e.uri_api),this.tree_map.set(e.id,e),{id:e.uri_api,text:e.text,items:e.items,graph_reference:null===e||void 0===e||null===(r=e.graph_reference)||void 0===r?void 0:r.id,path:e.path}}},{key:"findReference",value:function(e){var t=this.nodes.get(e);return void 0===t&&this.nodes.forEach((function(r,n){-1!==r.proxies.indexOf(String(e))&&(t=r)})),t}}]),e}();t.a=function(e){var t=Object($.b)(),r=e.open,n=e.handleClose,d=s.a.useState(0),c=Object(l.a)(d,2),u=c[0],p=c[1],b=function(){var e=Object(i.a)(a.a.mark((function e(r){var i,l,d,s,c,u,p,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2!==r.length||void 0===r[0].data||void 0===r[1].data){e.next=21;break}i=void 0,l=void 0,d=Object(o.a)(r);try{for(d.s();!(s=d.n()).done;)c=s.value,"ttl"===(u=c.file.name.split(".").pop())&&(l=c.data),"json"===u&&(i=c.data)}catch(a){d.e(a)}finally{d.f()}return p=new Ce(i,l),e.t0=p.getDatasetId(),e.next=9,p.getGraph();case 9:return e.t1=e.sent,e.next=12,p.getTree();case 12:e.t2=e.sent,e.t3=p,b={id:e.t0,graph:e.t1,tree:e.t2,splinter:e.t3},n(),t(Object(le.e)(b)),t(Object(ce.addWidget)({id:b.id,name:b.id.substring(0,10)+"... Graph",component:"graphComponent",panelName:"leftPanel",enableClose:!0,enableRename:!0,enableDrag:!0,status:de.WidgetStatus.ACTIVE,config:{graph_id:b.id,component:"graphComponent"}})),t(Object(ce.addWidget)(se)),e.next=23;break;case 21:n(),t(Object(le.h)("Just a test for the error dialog."));case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(te.a,{open:r,onClose:n,children:[Object(g.jsx)(f.a,{className:"dialog_header",children:Object(g.jsx)(ie,{handleChange:function(e,t){p(t)},value:u,handleClose:n})}),Object(g.jsxs)(f.a,{className:"dialog_body",children:[Object(g.jsx)(ee,{value:u,index:0,children:Object(g.jsx)(U,{handleClose:n,handleDone:b})}),Object(g.jsx)(ee,{value:u,index:1,children:Object(g.jsx)(Z,{handleClose:n,handleDone:b})})]})]})}},258:function(e,t,r){"use strict";var n=r(18),a=r(0),o=r.n(a),i=r(125),l=r(452),d=r(453),s=r(454),c=r(455),u=r(404),p=r.p+"static/media/toggle-right.ce5f8e9f.svg",b=r.p+"static/media/logo.ca7fb900.svg",h=r.p+"static/media/toggle-left.ed7cc2df.svg",m=r.p+"static/media/search.22df39ce.svg",g=r(2),v=function(e){var t=e.expand,r=e.setExpand,n=e.setSearchTerm,a=e.searchTerm;return Object(g.jsxs)(i.a,{className:"sidebar-header",children:[Object(g.jsx)("img",{src:b,alt:"Logo"}),Object(g.jsx)(l.a,{"aria-label":"toggle",onClick:function(){return r(!t)},children:Object(g.jsx)("img",{src:t?h:p,alt:"Toggle"})}),t&&Object(g.jsx)(d.a,{variant:"filled",fullWidth:!0,children:Object(g.jsx)(s.a,{"aria-autocomplete":"none",disableUnderline:!0,id:"filled-adornment-password",placeholder:"Search for an instance",startAdornment:Object(g.jsx)(c.a,{position:"start",children:Object(g.jsx)("img",{src:m,alt:"Search"})}),endAdornment:Object(g.jsx)(c.a,{position:"end",children:Object(g.jsx)(u.a,{onClick:function(){return n(n)},children:"Search"})}),value:a,onChange:function(e){n(e.target.value)}})})]})},f=r(77),j=r(27),x=r(456),y=r(145),O=r(146),_=r(147),k=r(26),w=r(157),C=r(473),S=r.p+"static/media/down.0095113d.svg",T=["dataset","labelText","labelIcon","labelInfo","iconClass","onNodeSelect"],I=function(e){var t=e.dataset,r=e.labelText,n=(e.labelIcon,e.labelInfo),a=e.iconClass,o=e.onNodeSelect,l=Object(w.a)(e,T);return Object(g.jsx)(C.a,Object(k.a)({data:t,label:Object(g.jsxs)("div",{className:"labelRoot ".concat(a),children:[Object(g.jsx)(i.a,{className:"labelIcon"}),Object(g.jsx)(f.a,{onClick:function(t){o(t,e.nodeId),t.preventDefault()},variant:"body2",className:"labelText",children:r}),n>0?Object(g.jsxs)(f.a,{variant:"caption",className:"labelCaption",color:"inherit",children:[n,Object(g.jsx)("img",{src:S,alt:"down"})]}):null]})},l))},N=r(28),M=r(36),D=r(59),E=r(40),F=r(8),P=function(e){var t=Object(N.b)(),r=e.searchTerm,i=e.dataset_id,l=JSON.parse(JSON.stringify([window.datasets[i].tree])),d=Object(N.c)((function(e){return e.sdsState.instance_selected})),s=Object(a.useState)([]),c=Object(n.a)(s,2),u=c[0],p=c[1],b=Object(a.useState)(l),h=Object(n.a)(b,2),m=h[0],v=h[1],f=Object(N.c)((function(e){return e.widgets})),k=function(e,r){var n,a=window.datasets[i].splinter.tree_map.get(r);t(Object(M.g)({dataset_id:i,graph_node:null===a||void 0===a||null===(n=a.graph_reference)||void 0===n?void 0:n.id,tree_node:a.id,source:F.d})),void 0!==f[i]&&(f[i].status=D.WidgetStatus.ACTIVE,t(E.updateWidget(f[i]))),void 0!==f[i]&&(f[i].status=D.WidgetStatus.ACTIVE,t(E.updateWidget(f[i])))},w=d.dataset_id.split(":");w[w.length-1]!==i&&u.length>0?p([]):w[w.length-1]===i&&d.source===F.b&&d.tree_node&&d.tree_node.path[0]!==u[0]&&p(d.tree_node.path);Object(a.useEffect)((function(){v(r.length>=3?function(e,t){var r=t.toLowerCase(),n=e.filter((function e(t){return!!t.text.toLowerCase().includes(r)||!!t.items&&(t.items=t.items.filter(e)).length}));return p(function(e){var t=[];return function e(r,n){for(var a in r){var o=r[a];if(void 0!==o)if(o&&"object"===typeof o)e(o,a);else if("id"===a)t.push(o);else if("path"===a)continue}}(e),t}(n)),n}(Object(j.a)(l),r):l)}),[r]),Object(a.useEffect)((function(){(0===m.length&&l.length>0||l.length>0&&m.length!==l.length)&&v(l)}));var C=o.a.createRef();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(x.a,{className:"scrollbar treeViewer",defaultExpanded:u,defaultCollapseIcon:!1,defaultExpandIcon:!1,defaultEndIcon:!1,ref:C,expanded:u,onNodeToggle:function(e,t){if(0!==t.length){if(u.length!==t.length&&u[0]===t[0]){for(var r=Object(j.a)(u),n=Object(j.a)(t);r[0]===n[0];)r.shift(),n.shift();t=r}var a=window.datasets[i].splinter.tree_map.get(t[0]);a&&void 0!==a.path&&a.path[0]!==u[0]&&p(a.path)}},children:function e(t){return t.map((function(t){var r,n=void 0;t.items&&t.items.length>0&&(n=e(t.items));var a=null===(r=n)||void 0===r?void 0:r.length,o=(null===t||void 0===t?void 0:t.parent)?{labelIcon:y.a,iconClass:"dataset"}:a>0?{labelIcon:O.a,iconClass:"folder"}:{labelIcon:_.a,iconClass:"file"};return Object(g.jsx)(I,{dataset:null===t||void 0===t?void 0:t.dataset_id,nodeId:null===t||void 0===t?void 0:t.id,labelText:null===t||void 0===t?void 0:t.text,labelIcon:null===o||void 0===o?void 0:o.labelIcon,labelInfo:a,children:n,iconClass:null===o||void 0===o?void 0:o.iconClass,onNodeSelect:k},null===t||void 0===t?void 0:t.id)}))}(m)})})},A=function(e){var t=e.expand,r=e.setExpand,n=e.searchTerm,a=Object(N.c)((function(e){return e.sdsState.datasets}));return Object(g.jsx)(i.a,{className:"sidebar-body",children:t?(null===a||void 0===a?void 0:a.length)>0?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.a,{component:"h3",children:"Uploaded Instances"}),Object(g.jsx)(i.a,{className:"scrollbar",children:a.map((function(e,t){return Object(g.jsx)(P,{searchTerm:n,dataset_id:e},"tree_"+t)}))})]}):Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(f.a,{className:"no-instance",children:"No instances to display yet."})}):Object(g.jsx)(l.a,{"aria-label":"toggle",onClick:function(){return r(!t)},children:Object(g.jsx)("img",{src:m,alt:"Search"})})})},R=r.p+"static/media/plus.f6839d16.svg",B=function(e){return Object(g.jsx)(i.a,{className:"sidebar-footer",children:Object(g.jsxs)(u.a,{variant:"contained",disableElevation:!0,color:"primary",onClick:function(){return e.setOpenDialog(!0)},children:[Object(g.jsx)("img",{src:R,alt:"Plus"}),F.c]})})};t.a=function(e){var t=Object(a.useState)(!0),r=Object(n.a)(t,2),o=r[0],l=r[1],d=Object(a.useState)(""),s=Object(n.a)(d,2),c=s[0],u=s[1];return Object(g.jsxs)(i.a,{className:"sidebar"+(o?"":" shrink"),children:[Object(g.jsx)(v,{setExpand:l,expand:o,setSearchTerm:u,searchTerm:c}),Object(g.jsx)(A,{setExpand:l,expand:o,searchTerm:c}),Object(g.jsx)(B,{setExpand:l,expand:o,openDialog:e.openDialog,setOpenDialog:e.setOpenDialog})]})}},259:function(e,t,r){"use strict";var n=r(227),a=r.n(n),o=r(12),i=r.p+"static/media/curve.e6ef8395.svg",l=r.p+"static/media/linewithradius.eb303573.svg",d=r.p+"static/media/filled-folder.139a09e7.svg",s=r.p+"static/media/filled-file.1b51516a.svg",c=r.p+"static/media/filled-dataset.834e911d.svg",u=r(145),p=r(146),b=r(147),h=o.a.primaryColor,m=o.a.secondaryColor,g=o.a.primaryTextColor,v=o.a.lightBorderColor,f=o.a.radius,j=o.a.primaryColorHover,x=o.a.whiteColor,y=o.a.outlinedButtonHover,O=o.a.primaryBgColor,_=o.a.inputTextColor,k=o.a.scrollbarBg,w=o.a.iconButtonHover,C=o.a.primaryTransition,S=o.a.fontFamily,T=o.a.barSuccessColor,I=o.a.noInstanceColor,N=o.a.gutter,M=o.a.errorColor,D=o.a.tabsBgColor,E=o.a.progressBgPrimary,F=o.a.dropzoneBorderColor,P=o.a.dropzoneTextColor,A=o.a.inputFocusShadow,R=o.a.successInputFocusShadow,B=o.a.placeHolderColor,z=o.a.dialogShadow,H=o.a.tabsBorderColor,W=o.a.dialogBodyBgColor,L=o.a.sideBarTextColor,U=o.a.sideBarLabelColor,V=o.a.chipBgColor,G=o.a.progressErrorBg,J=o.a.treeBorderColor,q=a()({typography:{fontFamily:S,h3:{fontWeight:"600",fontSize:"1.5rem",lineHeight:"1.8125rem",color:g}},overrides:{MuiBreadcrumbs:{root:{marginTop:".25rem"},ol:{lineHeight:1},separator:{marginLeft:".25rem",marginRight:".25rem",color:P},li:{fontSize:".75rem",lineHeight:".875rem",letterSpacing:".00375rem",fontWeight:"500",color:P,"& a":{color:h},"& p":{fontSize:".75rem",lineHeight:".875rem",letterSpacing:".00375rem",fontWeight:"500",color:P}}},MuiChip:{root:{backgroundColor:V,borderRadius:".3125rem",display:"inline-flex",alignItems:"center",height:"1.375rem",marginTop:".25rem",marginRight:".375rem","& .MuiChip-label":{padding:"0 .375rem",fontSize:".75rem",color:g}}},MuiCircularProgress:{colorPrimary:{color:x}},MuiLinearProgress:{root:{borderRadius:".125rem"},colorPrimary:{backgroundColor:E},colorSecondary:{backgroundColor:E},barColorPrimary:{backgroundColor:h,borderRadius:".25rem"},barColorSecondary:{backgroundColor:T,borderRadius:".25rem"}},MuiDropzoneArea:{root:{borderWidth:"0.09375rem",borderColor:F,borderRadius:".5rem",height:"8.75rem",minHeight:"8.75rem",backgroundColor:"transparent",display:"flex",alignItems:"center",justifyContent:"center","& + .uploaded-files":{marginTop:"1rem"},"&.hide":{display:"none"},"& .MuiDropzoneArea-textContainer":{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center","& .MuiDropzoneArea-text":{margin:"0",fontWeight:"600",fontSize:".75rem",lineHeight:".875rem",letterSpacing:"-0.01em",order:2,marginTop:".6875rem",color:P},"& svg":{color:h}}}},MuiOutlinedInput:{root:{backgroundColor:x,borderRadius:".5rem","&.Mui-disabled":{color:P,"& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderWidth:".0625rem",borderColor:h,boxShadow:"0 0 0 .1875rem ".concat(A)}},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:h}},"&.field-success":{"& .MuiOutlinedInput-input":{color:T},"& .MuiOutlinedInput-notchedOutline":{borderColor:T},"&:hover":{"& .MuiOutlinedInput-notchedOutline":{borderColor:T}},"&.Mui-focused":{"& .MuiOutlinedInput-notchedOutline":{borderWidth:".0625rem",borderColor:T,boxShadow:"0 0 0 .1875rem ".concat(R)}}}},notchedOutline:{borderColor:"transparent"},input:{fontSize:".75rem",letterSpacing:"-0.01em",padding:".75rem 0","&::placeholder":{color:B}},adornedStart:{paddingLeft:".75rem","& .MuiInputAdornment-root":{marginTop:"0 !important"}},adornedEnd:{paddingRight:".75rem"}},MuiDialog:{paperWidthSm:{width:"25rem",borderRadius:".75rem",boxShadow:"0 .25rem 3.125rem ".concat(z)}},MuiTabs:{root:{minHeight:".0625rem","&:not(.rounded)":{borderTop:".0625rem solid ".concat(H),borderBottom:".0625rem solid ".concat(H),padding:N+2},"&.rounded":{boxShadow:"inset 0 0 .125rem ".concat(z),background:D,padding:".25rem .3125rem",borderRadius:"2.5rem",width:"14.75rem",display:"flex",alignItems:"center",margin:"0 auto"},"& .MuiTabs-indicator":{display:"none !important"}}},MuiTab:{root:{minWidth:".0625rem !important",textTransform:"none",minHeight:".0625rem","&:not(.rounded)":{padding:".5rem",borderRadius:f,fontWeight:500,fontSize:"1.125rem",lineHeight:"1.375rem",letterSpacing:"-0.03em",color:"".concat(g," !important"),"&:not(.Mui-selected)":{opacity:.4}},"&.rounded":{width:"50%",padding:0,fontSize:".75rem",lineHeight:".875rem",borderRadius:"2.5rem",height:"2.25rem",textAlign:"center",letterSpacing:"-0.01em",color:h,"&:not(.Mui-selected)":{opacity:1},"&.Mui-selected":{background:h,color:x}}}},MuiFilledInput:{root:{fontFamily:S,backgroundColor:v,height:"2.375rem",borderRadius:"".concat(f,"px !important"),paddingRight:"0.4375rem !important","&:hover":{backgroundColor:v},"& .MuiInputAdornment-positionStart":{marginTop:"0 !important"}},input:{paddingTop:0,paddingBottom:0,fontSize:"0.75rem",letterSpacing:"-0.01em",color:_,"&::placeholder":{color:_}},adornedEnd:{"& .MuiButton-root":{padding:"0.3125rem",minWidth:1,fontSize:"0.75rem",fontWeight:"600",height:"auto",color:x}}},MuiIconButton:{root:{padding:0,borderRadius:f,backgroundColor:v,"&:hover":{backgroundColor:w}}},MuiButton:{root:{borderRadius:f,height:"2.375rem",padding:0,minWidth:"9.875rem"},label:{textTransform:"none",display:"flex","& img":{marginRight:".25rem"}},containedPrimary:{backgroundColor:h,"&:hover":{backgroundColor:j},"&.Mui-disabled":{backgroundColor:F,color:x}},outlinedPrimary:{borderColor:h,color:h,"&:hover":{backgroundColor:y}}},MuiCssBaseline:{"@global":{"*, *::before, *::after":{boxSizing:"border-box"}," body":{backgroundColor:m},".main-structure":{display:"flex",overflow:"hidden"},".scrollbar":{overflow:"auto","&::-webkit-scrollbar":{width:"0.25rem","&:horizontal":{height:"0.25rem"}},"&::-webkit-scrollbar-thumb":{background:k,borderRadius:".25rem"}},".noscrollbar":{overflow:"auto",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},".dialog":{"&_body":{background:W,padding:"1rem","& .MuiButton-root":{marginTop:".75rem"}},"&_header":{padding:"1rem",display:"flex",flexDirection:"column",paddingBottom:"3rem","& img":{cursor:"pointer",marginLeft:"auto",width:"auto",marginBottom:".1875rem"},"& h3":{fontWeight:"600",fontSize:"1.5rem",lineHeight:"1.8125rem",textAlign:"center",letterSpacing:"-0.03em",color:g}}},".sidebar":{width:"18.75rem",overflow:"hidden",backgroundColor:m,height:"100vh",flexShrink:0,padding:"1rem 0.75rem",display:"flex",flexDirection:"column",transition:C,"&.shrink":{width:"4.125rem",transition:C,"& .sidebar":{"&-header":{"&> img":{marginBottom:"1.1875rem",paddingBottom:"1.1875rem",borderBottom:"0.0625rem solid ".concat(v)}},"&-body":{"& ul":{display:"none"}},"&-footer":{"& .MuiButton-root":{"& img":{margin:"0"}}}},"& .MuiButtonBase-root":{padding:0,width:"2.25rem",minWidth:"0.0625rem",fontSize:0,margin:"0 auto",display:"block",height:"2.25rem"}},"&:not(.shrink)":{"& .sidebar":{"&-header":{"& .MuiIconButton-root":{backgroundColor:"transparent"},"& .MuiFormControl-root":{marginTop:"0.875rem"}},"&-footer":{"& .MuiIconButton-root":{width:"1rem",height:"1rem",borderRadius:f-4},"& .MuiButton-contained":{width:"100%","& img":{marginRight:"0.3125rem"}}}}},"&-header":{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:"1.1875rem",borderBottom:"0.0625rem solid ".concat(v),flexWrap:"wrap","&> img":{cursor:"pointer",maxWidth:"100%",transition:C}},"&-body":{padding:"1.1875rem 0.75rem",height:"calc(100% - 14.0625rem)",margin:"0 -0.75rem",flexGrow:1,position:"relative","&::before":{content:'""',position:"absolute",right:"0.75rem",bottom:".5rem",width:".25rem",height:".25rem",background:m,zIndex:"9999"},"& .MuiTreeItem-root > .MuiTreeItem-content .MuiTreeItem-label":{borderRadius:".5rem",background:"transparent",border:"0.03125rem solid transparent",minWidth:"10rem"},"& .MuiTreeItem-root.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label":{background:"linear-gradient(0deg, ".concat(v,", ").concat(v,"), ").concat(m),borderColor:h},"& .MuiTreeItem-root.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label:hover, & .MuiTreeItem-root.Mui-selected:focus > .MuiTreeItem-content .MuiTreeItem-label":{background:"linear-gradient(0deg, ".concat(v,", ").concat(v,"), ").concat(m),borderColor:h},"& .MuiTreeItem-content":{position:"relative",zIndex:"1"},"& .MuiTreeItem-root":{"&.Mui-selected > .MuiTreeItem-content .dataset .labelIcon":{backgroundImage:"url(".concat(c,")")},"&.Mui-selected > .MuiTreeItem-content .file .labelIcon":{backgroundImage:"url(".concat(s,")")},"&.Mui-selected > .MuiTreeItem-content .folder .labelIcon":{backgroundImage:"url(".concat(d,")")},"& .dataset":{"& .labelIcon":{width:"0.75rem",height:"0.8125rem",fontSize:0,backgroundImage:"url(".concat(u.a,")")}},"& .file":{"& .labelIcon":{width:"0.6875rem",height:"0.875rem",fontSize:0,backgroundImage:"url(".concat(b.a,")")}},"& .folder":{"& .labelIcon":{height:"0.75rem",width:"0.9375rem",fontSize:0,backgroundImage:"url(".concat(p.a,")")}}},"& .labelRoot":{display:"flex",padding:"0.5625rem 0.6875rem"},"& .labelIcon":{marginRight:"0.625rem",flexShrink:0},"& .labelText":{fontWeight:"normal",flexGrow:1,fontSize:"0.8125rem",lineHeight:"1rem",color:x},"& .MuiTreeItem-group":{paddingLeft:"1.4375rem",margin:0},"& .labelCaption":{height:"1rem",backgroundColor:v,padding:"0 0.25rem",display:"flex",alignItems:"center",borderRadius:"0.5rem",fontWeight:"600",fontSize:"0.625rem",lineHeight:"0.75rem",minWidth:"2rem",justifyContent:"center",color:I,letterSpacing:"-0.01em","& img":{marginLeft:"0.125rem"}},"& .scrollbar":{overflow:"auto",height:"calc(100% - 1rem)"},"& h3":{fontWeight:"600",fontSize:"0.75rem",lineHeight:"0.9375rem",letterSpacing:"-0.01em",marginBottom:"0.75rem",color:x,padding:"0 0.6875rem"},"& .MuiTreeView-root":{"& .MuiTreeItem-root":{"& .MuiTreeItem-group":{"& .MuiCollapse-wrapperInner":{"& .MuiTreeItem-root":{"&.Mui-expanded":{"& .labelCaption":{"& img":{transform:"rotate(-180deg)"}}}}}}}},"& ul":{position:"relative","&::before":{content:'""',height:"calc(100% - 0.85rem)",width:"0.0625rem",position:"absolute",left:"1.0625rem",borderRadius:"3.125rem",top:"-0.5625rem",backgroundImage:"url(".concat(l,")"),backgroundRepeat:"repeat"},"& .MuiTreeItem-root":{position:"relative","&::before":{content:'""',height:"0.875rem",width:"1.4375rem",backgroundImage:"url(".concat(i,")"),position:"absolute",top:"0.75rem",backgroundRepeat:"no-repeat",left:"-0.375rem"},"&::after":{content:'""',height:"0.0625rem",borderRadius:"3.125rem",width:"0.5rem",backgroundColor:J,position:"absolute",left:"0",top:"1.0625rem",display:"none"},"&:hover":{background:"transparent"},"&:focus > .MuiTreeItem-content":{backgroundColor:"transparent"}}},"& .scrollbar > .MuiTreeView-root":{"&::before":{display:"none"},"& .MuiTreeItem-label":{paddingLeft:"0","&:hover":{background:"transparent"},"&:focus":{backgroundColor:"transparent"}},"& .MuiTreeItem-iconContainer":{display:"none"},"&> .MuiTreeItem-root":{"&::before":{display:"none"},"&::after":{display:"none"},"&:hover":{background:"transparent"},"&:focus > .MuiTreeItem-content":{backgroundColor:"transparent"},"&.Mui-expanded":{"&> .MuiTreeItem-content":{"&> .MuiTreeItem-label":{"&> div":{"& span":{"& img":{transform:"rotate(-180deg)"}}}}}},"& .MuiTreeItem-content":{"&:hover":{background:"transparent"}},"&> .MuiTreeItem-content":{"&> .MuiTreeItem-label":{"&> div":{"& p":{fontSize:"0.75rem",lineHeight:"0.9375rem",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}}}}},"& .no-instance":{fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",height:"100%",fontWeight:"600",letterSpacing:"-0.01em",color:I,textAlign:"center"}},"&-footer":{boxShadow:"0 -4.75rem 3.0625rem -2.5625rem ".concat(m),borderTop:"0.0625rem solid ".concat(v),paddingTop:"1rem",position:"relative",zIndex:"2","& .MuiButton-contained":{minHeight:"2.375rem",padding:0,width:"100%","& .MuiButton-label":{display:"flex"}},"& .support":{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",height:"3.3125rem",borderTop:"0.0625rem solid ".concat(v),"& p":{display:"flex",alignItems:"center",fontSize:"0.75rem",letterSpacing:"-0.01em",color:o.a.whiteColor,fontWeight:"400","& img":{marginRight:"0.625rem"}}}}},".content":{backgroundColor:O,flexGrow:1,borderRight:".0625rem solid ".concat(H),padding:"1rem","&:not(.full-round)":{borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"none"}},".MuiBox-empty":{display:"flex",alignItems:"center",height:"100%",justifyContent:"center",textAlign:"center",flexDirection:"column","& h3":{marginBottom:"1.5rem"}},".uploaded-files":{"&_row":{background:x,borderRadius:".5rem",display:"flex",alignItems:"center",padding:".5rem",marginTop:".5rem","&.error":{"& .MuiLinearProgress-colorSecondary":{backgroundColor:G},"& p":{color:M},"& strong":{color:M}},"& .wrap":{padding:"0 0.9375rem",flexGrow:"1",display:"flex",justifyContent:"space-between",flexWrap:"wrap","& .MuiLinearProgress-root":{width:"100%",marginTop:".3125rem"},"& p":{fontWeight:"600",fontSize:".75rem",lineHeight:".875rem",letterSpacing:"-0.01em",color:L,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"6.25rem"},"& span":{fontWeight:"600",fontSize:".75rem",lineHeight:".875rem",letterSpacing:"-0.01em",color:P},"& strong":{fontWeight:"600",fontSize:".75rem",lineHeight:".875rem",letterSpacing:"-0.01em",color:T}},"& img":{flexShrink:"0"}},"& h3":{fontWeight:"600",fontSize:".75rem",lineHeight:".875rem",letterSpacing:"-0.01em",marginBottom:"1rem",color:P}},".secondary-sidebar":{width:"100%",minHeight:"95vh",display:"flex",flexShrink:0,flexDirection:"column",backgroundColor:x,position:"relative",transition:"all ease-in-out .3s","&:not(.in)":{marginRight:"-18.75rem",transition:"all ease-in-out .3s"},"&_breadcrumb":{padding:"1rem",position:"sticky",top:0,zIndex:"5",background:x,"& .MuiBreadcrumbs-li":{lineHeight:"1.5","& a":{color:B,cursor:"pointer",lineHeight:"normal"}},"& .MuiBreadcrumbs-separator":{margin:"0 .5rem"}},"&_body":{flexGrow:1,maxHeight:"calc(100vh - 13rem)",height:"auto",overflow:"auto",paddingBottom:"1rem"},"&_footer":{display:"none",height:"5rem",alignItems:"center",justifyContent:"center",position:"fixed",right:"0",bottom:"0",width:"18.75rem",background:"linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, ".concat(x," 100%)"),"& img":{cursor:"pointer"}},"&.in":{"& .secondary-sidebar_footer":{display:"flex"}},"&::before":{content:'""',background:x,width:"1.875rem",top:0,left:"-1.875rem",height:"1.875rem",position:"absolute",zIndex:-1},"&::after":{content:'""',background:x,width:"1.875rem",left:"-1.875rem",bottom:0,height:"1.875rem",position:"absolute",zIndex:-1},"&_header":{textAlign:"center",padding:"0 1rem 1rem",borderBottom:".0625rem solid ".concat(H),"& .wrap":{display:"flex",alignItems:"center",justifyContent:"space-between","& img":{margin:"0",cursor:"pointer"}},"& img":{display:"block",margin:"0 auto"},"& h3":{fontWeight:"600",fontSize:"1.5rem",lineHeight:"1.8125rem",marginBottom:".25rem",marginTop:".75rem"},"&> p ":{fontWeight:"500",fontSize:".75rem",lineHeight:".875rem",letterSpacing:"-0.01em",color:B}},"& .tab-content":{padding:"1rem 1rem","&+ .tab-content":{borderTop:".0625rem solid ".concat(H)},"& h3":{fontSize:"1.125rem",fontWeight:"500",lineHeight:"1.375rem",letterSpacing:"-0.03em",color:g,marginBottom:"1.3rem"},"& .tab-content-row":{"& .chip-overflow":{whiteSpace:"nowrap",overflow:"auto",marginRight:"-1rem"},"&> a":{display:"inline-flex",fontSize:".75rem",lineHeight:"1rem",color:h,"&:not(:last-child)":{marginRight:".75rem"},"& img":{marginRight:".25rem"}},"&+ .tab-content-row":{marginTop:"1rem"},"& label":{fontWeight:"600",display:"block",fontSize:".75rem",lineHeight:".875rem",letterSpacing:"-0.01em",color:U,"&+ p":{marginTop:".25rem"}},"&> p":{fontSize:".75rem",lineHeight:"1rem",color:g,wordWrap:"break-word"},"& .MuiList-root":{padding:"0","& .MuiListItemText-root":{margin:"0","&+ .MuiListItemText-root":{marginTop:".5rem"},"&>span":{display:"flex","& label":{width:"9.5rem",paddingRight:".5rem","&+ p":{fontSize:".75rem",lineHeight:"1rem",marginTop:"0",color:g}}}}}}}},".custom-chips":{display:"flex",marginTop:".25rem",overflow:"auto","&_col":{display:" flex",flexShrink:0,background:O,borderRadius:".5rem",padding:".5rem .75rem 0.5rem 0.5rem","&:not(:last-child)":{marginRight:".5rem"},"& img":{flexShrink:0,marginRight:".25rem"},"& .wrap":{whiteSpace:"nowrap","& strong":{display:"block",lineHeight:".875rem",fontSize:".75rem",color:g},"& span":{display:"block",lineHeight:".875rem",fontSize:".75rem",color:B}}}},".graph-view":{height:"100%"},".graph-view_controls":{width:".75rem",position:"absolute",bottom:"0",zIndex:"100"}}}}});t.a=q},285:function(e,t,r){},287:function(e,t,r){},357:function(e,t){},359:function(e,t){},36:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return i})),r.d(t,"e",(function(){return l})),r.d(t,"f",(function(){return d})),r.d(t,"g",(function(){return s})),r.d(t,"h",(function(){return c}));var n="ADD_DATASET",a="DELETE_DATASET",o="SELECT_INSTANCE",i="TRIGGER_ERROR",l=function(e){return{type:n,data:{dataset:e}}},d=function(e){return{type:a,data:{dataset_id:e}}},s=function(e){return{type:o,data:{dataset_id:e.dataset_id,graph_node:e.graph_node,tree_node:e.tree_node,source:e.source}}},c=function(e){return{type:i,data:{error_message:e}}}},392:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(20),i=r.n(o),l=(r(285),r(226)),d=r(245),s=r(40),c=r(36),u=r(18),p=r(177),b=r(468),h=r(452),m=r(472),g=r(252),v=r.n(g),f=r(255),j=r.n(f),x=r(253),y=r.n(x),O=r(254),_=r.n(O),k=r(403),w=r(28),C=r(251),S=r.n(C),T=r(246),I=r.n(T),N=r(8),M=r(2),D=1e3,E={link:"#CFD4DA",linkHover:"purple",hoverRect:"#CFD4DA",textHoverRect:"#3779E1",textHover:"white",textColor:"#2E3A59"},F={label:"Top Down",layout:"td",maxNodesLevel:function(e){return e.hierarchyVariant}},P={label:"Radial",layout:"null",maxNodesLevel:function(e){return e.radialVariant}},A=function(e,t,r,n,a,o,i,l){n<2*o&&(o=n/2),a<2*o&&(o=a/2),e.globalAlpha=l||1,e.fillStyle=i,e.beginPath(),e.moveTo(t+o,r),e.arcTo(t+n,r,t+n,r+a,o),e.arcTo(t+n,r+a,t,r+a,o),e.arcTo(t,r+a,t,r,o),e.arcTo(t,r,t+n,r,o),e.closePath(),e.fill()},R=function(e){var t=Object(w.b)(),r=a.a.useRef(null),o=Object(n.useState)(null),i=Object(u.a)(o,2),l=i[0],d=i[1],s=Object(n.useState)(null),g=Object(u.a)(s,2),f=g[0],x=g[1],O=Object(n.useState)(new Set),C=Object(u.a)(O,2),T=C[0],R=C[1],B=Object(n.useState)(new Set),z=Object(u.a)(B,2),H=z[0],W=z[1],L=a.a.useState(F),U=Object(u.a)(L,2),V=U[0],G=U[1],J=a.a.useState(null),q=Object(u.a)(J,2),Y=q[0],Q=q[1],Z=Object(n.useState)({width:"100%",height:"100%"}),$=Object(u.a)(Z,2),K=($[0],$[1],Object(n.useState)({x:0,y:0})),X=Object(u.a)(K,2),ee=X[0],te=X[1],re=Boolean(Y),ne=a.a.useState(!1),ae=Object(u.a)(ne,2),oe=ae[0],ie=ae[1],le=Object(w.c)((function(e){return e.sdsState.instance_selected.graph_node})),de=Object(w.c)((function(e){return e.sdsState.layout})),se=function(){Q(null)},ce=function(e){se(),G(e)},ue=function(e,t){var n,a,o,i;null===r||void 0===r||null===(n=r.current)||void 0===n||null===(a=n.ggv)||void 0===a||a.current.centerAt(e.x,e.y,D),null===r||void 0===r||null===(o=r.current)||void 0===o||null===(i=o.ggv)||void 0===i||i.current.zoom(2,D),te({x:e.x,y:e.y})},pe=function(){var e,t,n,a;null===r||void 0===r||null===(e=r.current)||void 0===e||null===(t=e.ggv)||void 0===t||t.current.zoomToFit();var o=null===r||void 0===r||null===(n=r.current)||void 0===n||null===(a=n.ggv)||void 0===a?void 0:a.current.centerAt();te({x:o.x,y:o.y})};if(le&&(null===le||void 0===le?void 0:le.id)!==(null===f||void 0===f?void 0:f.id)){var be,he,me,ge=null===r||void 0===r||null===(be=r.current)||void 0===be||null===(he=be.props)||void 0===he||null===(me=he.data)||void 0===me?void 0:me.nodes.find((function(e){var t,r;return e.id===le.id&&(null===(t=e.parent)||void 0===t?void 0:t.id)===(null===(r=le.parent)||void 0===r?void 0:r.id)}));ge&&(x(ge),ue(ge))}else null!==le&&void 0!==le||null===f||void 0===f||x(null);Object(n.useEffect)((function(){ie(!0),setTimeout((function(){return ie(!1)}),3e3)}),[]),Object(n.useEffect)((function(){var e,t,n,a,o,i;null===r||void 0===r||null===(e=r.current)||void 0===e||null===(t=e.ggv)||void 0===t||t.current.centerAt(ee.x,ee.y),null===r||void 0===r||null===(n=r.current)||void 0===n||null===(a=n.ggv)||void 0===a||a.current.d3Force("collide",p.forceCollide(4)),null===r||void 0===r||null===(o=r.current)||void 0===o||null===(i=o.ggv)||void 0===i||i.current.d3Force("manyBody",p.forceManyBody().strength(-100))}),[de]);var ve=a.a.useCallback((function(e,t){var r=10,n=[24,24],a=[32,32],o=[e.x-14,e.y-14],i=[o[0],o[1]+a[1]+2];t.beginPath(),t.drawImage.apply(t,[e.img,e.x-r-1,e.y-r].concat(n)),t.font="500 6px Inter, sans-serif",t.textAlign="center",t.textBaseline="middle";var d=e.name;d.length>10&&(d=d.substr(0,10).concat("..."));var s=[d,e.x+2,i[1]+4.5];e===l?(A.apply(void 0,[t].concat(o,a,[2,E.hoverRec,.3])),A.apply(void 0,[t].concat(i,[a[0]+5,a[0]/4,1,E.textHoverRect])),t.fillStyle=E.textHover):t.fillStyle=E.textColor,t.fillText.apply(t,s)}),[l]),fe=V.maxNodesLevel(window.datasets[e.graph_id].graph);return Object(M.jsx)("div",{className:"graph-view",children:oe?Object(M.jsx)(k.a,{style:{position:"absolute",left:0,right:0,bottom:0,top:0,margin:"auto",color:"#11bffe",size:"55rem"}}):Object(M.jsx)(I.a,{ref:r,data:window.datasets[e.graph_id].graph,d2:!0,warmupTicks:1e3,cooldownTicks:30,onEngineStop:function(){pe(),ie(!1)},linkColor:function(e){var t=E.link;return H.has(e)&&(t=T.has(e.source)||T.has(e.target)?E.linkHover:E.link),t},linkWidth:2,forceChargeStrength:-20*fe,collideSize:5,linkDirectionalParticles:1,linkCurvature:function(e){var t=0;return V.layout!==P.layout&&(e.source.fx>e.target.fx?t*=-1:t=e.source.fx===e.target.fx?0:e.source.fx>=e.target.fx?-.05:.05),t},linkDirectionalParticleWidth:function(e){return H.has(e)?4:0},linkCanvasObjectMode:"replace",onLinkHover:function(e){T.clear(),H.clear(),e&&(H.add(e),T.add(e.source),T.add(e.target)),W(H),R(T)},nodeCanvasObject:ve,nodeCanvasObjectMode:function(e){return"replace"},nodeVal:function(e){V.layout!==P.layout&&(e.fx=e.xPos,e.fy=100*e.level)},onNodeHover:function(e){var t,r;(T.clear(),H.clear(),e)&&(T.add(e),null===(t=e.neighbors)||void 0===t||t.forEach((function(e){return T.add(e)})),null===(r=e.links)||void 0===r||r.forEach((function(e){return H.add(e)})));d(e),W(H),R(T)},onNodeClick:function(r,n){return function(r,n){var a;t(Object(c.g)({dataset_id:e.graph_id,graph_node:r.id,tree_node:null===r||void 0===r||null===(a=r.tree_reference)||void 0===a?void 0:a.id,source:N.b}))}(r)},onNodeRightClick:function(e,t){return ue(e)},dagMode:V.layout,onDagError:function(e){},enableNodeDrag:!1,enableZoomPanInteraction:!0,enablePointerInteraction:!0,controls:Object(M.jsxs)("div",{className:"graph-view_controls",children:[Object(M.jsx)(h.a,{"aria-controls":"layout-menu","aria-haspopup":"true",onClick:function(e){Q(e.currentTarget)},children:Object(M.jsx)(S.a,{})}),Object(M.jsxs)(b.a,{id:"layout-menu",anchorEl:Y,keepMounted:!0,open:re,onClose:se,children:[Object(M.jsx)(m.a,{selected:P.layout===V.layout,onClick:function(){return ce(P)},children:P.label}),Object(M.jsx)(m.a,{selected:F.layout===V.layout,onClick:function(){return ce(F)},children:F.label})]}),Object(M.jsx)(h.a,{onClick:function(e){return function(e){var t=r.current.ggv.current.zoom(),n=1;t<2&&(n=.2),r.current.ggv.current.zoom(t+n,100)}()},children:Object(M.jsx)(v.a,{})}),Object(M.jsx)(h.a,{onClick:function(e){return function(e){var t=r.current.ggv.current.zoom(),n=1;t<2&&(n=.2),r.current.ggv.current.zoom(t-n,100)}()},children:Object(M.jsx)(y.a,{})}),Object(M.jsx)(h.a,{onClick:function(e){return pe()},children:Object(M.jsx)(_.a,{})}),Object(M.jsx)(j.a,{})]})})})},B=r(27),z=r(125),H=r.p+"static/media/filter.335966db.svg",W=function(){return Object(M.jsx)(z.a,{className:"secondary-sidebar_footer",children:Object(M.jsx)("img",{src:H,alt:"FILTER"})})},L=r(15),U=r(77),V=r.p+"static/media/help.c1d19ba0.svg",G=r(12),J=function(e){var t=e.node,r={color:G.a.dataset,textTransform:"capitalize"},n=void 0;return n=t.graph_node?t.graph_node.name:t.tree_node?t.tree_node.text:"Unknown node",Object(M.jsxs)(z.a,{className:"secondary-sidebar_header",children:[Object(M.jsx)("img",{src:V,alt:"Contributor"}),Object(M.jsx)(U.a,{component:"h3",style:r,children:n})]})},q=r.p+"static/media/nifti.2c5dab4b.svg",Y=function(e){var t=e.node,r={color:G.a.nifti,textTransform:"capitalize"},n=void 0;return n=t.tree_node&&t.graph_node||t.tree_node?t.tree_node.text:t.graph_node.name,Object(M.jsxs)(z.a,{className:"secondary-sidebar_header",children:[Object(M.jsx)("img",{src:q,alt:"File"}),Object(M.jsx)(U.a,{component:"h3",style:r,children:n})]})},Q=r.p+"static/media/user.344027c3.svg",Z=function(e){var t=e.node,r={color:G.a.dataset,textTransform:"capitalize"},n=void 0;return n=t.tree_node&&t.graph_node||t.tree_node?t.tree_node.text:t.graph_node.name,Object(M.jsxs)(z.a,{className:"secondary-sidebar_header",children:[Object(M.jsx)("img",{src:Q,alt:"Contributor"}),Object(M.jsx)(U.a,{component:"h3",style:r,children:n})]})},$=r.p+"static/media/dataset.6c3feae5.svg",K=function(e){var t=e.node,r={color:G.a.dataset,textTransform:"capitalize"},n=void 0;return n=t.tree_node&&t.graph_node||t.tree_node?t.tree_node.text:t.graph_node.name,Object(M.jsxs)(z.a,{className:"secondary-sidebar_header",children:[Object(M.jsx)("img",{src:$,alt:"dataset"}),Object(M.jsx)(U.a,{component:"h3",style:r,children:n})]})},X=r.p+"static/media/volume.1008184b.svg",ee=function(e){var t=e.node,r={color:G.a.volume,textTransform:"capitalize"},n=void 0;return n=t.tree_node&&t.graph_node||t.tree_node?t.tree_node.text:t.graph_node.name,Object(M.jsxs)(z.a,{className:"secondary-sidebar_header",children:[Object(M.jsx)("img",{src:X,alt:"Volume"}),Object(M.jsx)(U.a,{component:"h3",style:r,children:n})]})},te=function(e){var t=e.node,r={color:G.a.volume,textTransform:"capitalize"},n=void 0;return n=t.tree_node&&t.graph_node||t.tree_node?t.tree_node.text:t.graph_node.name,Object(M.jsxs)(z.a,{className:"secondary-sidebar_header",children:[Object(M.jsx)("img",{src:X,alt:"Volume"}),Object(M.jsx)(U.a,{component:"h3",style:r,children:n})]})},re=function(e){var t=e.label,r=e.value,n=e.heading;return Object(M.jsxs)(M.Fragment,{children:[n?Object(M.jsx)(U.a,{component:"h3",children:n}):null,Object(M.jsxs)(z.a,{className:"tab-content-row",children:[Object(M.jsx)(U.a,{component:"label",children:t}),Object(M.jsx)(U.a,{children:r})]})]})},ne=function(e){var t,r,n=e.node,a="",o="";if(null===n||void 0===n?void 0:n.graph_node)a=null===(t=n.graph_node)||void 0===t?void 0:t.name,o=(null===(r=n.graph_node)||void 0===r?void 0:r.id)+N.f;else if(null===n||void 0===n?void 0:n.tree_node){var i,l;a=null===(i=n.tree_node)||void 0===i?void 0:i.basename,o=(null===(l=n.tree_node)||void 0===l?void 0:l.id)+N.f}else{var d;a="Unknown node",o=(null===(d=n.graph_node)||void 0===d?void 0:d.id)+N.f}return Object(M.jsx)(z.a,{className:"secondary-sidebar_body",id:o,children:Object(M.jsx)(z.a,{className:"tab-content",children:Object(M.jsx)(re,{label:"Name",value:a.toString(),heading:"Details"})})})},ae=r(462),oe=r(464),ie=r(463),le=r.p+"static/media/link.2bbc9098.svg",de=function(e){var t=e.href,r=e.title;return Object(M.jsxs)(ie.a,{href:t,target:"_blank",children:[Object(M.jsx)("img",{src:le,alt:r}),r]})},se=r(470),ce=function(e){var t=e.chips;return Object(M.jsx)(z.a,{className:"chip-overflow noscrollbar",children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(M.jsx)(se.a,{label:e},"".concat(e,"_").concat(t))}))})},ue=function(e){var t,r,n,a,o,i,l,d,s,c,u,p,b,h,m,g=e.node,v="",f="";if((null===g||void 0===g?void 0:g.tree_node)&&(null===g||void 0===g?void 0:g.graph_node))v=g.tree_node.basename,f=g.tree_node.id+N.f;else if(g.graph_node){var j;f=g.graph_node.id+N.f,v=null===(j=g.graph_node.attributes)||void 0===j?void 0:j.label[0]}else v=g.tree_node.basename,f=g.tree_node.id+N.f;var x,y="Not defined.";void 0!==(null===g||void 0===g||null===(t=g.tree_node)||void 0===t?void 0:t.timestamp_updated)&&(y=new Date(null===g||void 0===g||null===(x=g.tree_node)||void 0===x?void 0:x.timestamp_updated.split(",")[0]));var O=[{title:"Type",value:null===g||void 0===g||null===(r=g.tree_node)||void 0===r?void 0:r.type},{title:"Mimetype",value:null===g||void 0===g||null===(n=g.tree_node)||void 0===n?void 0:n.mimetype},{title:"Size Bytes",value:null===g||void 0===g||null===(a=g.tree_node)||void 0===a?void 0:a.size_bytes}];return Object(M.jsx)(z.a,{className:"secondary-sidebar_body",id:f,children:Object(M.jsxs)(z.a,{className:"tab-content",children:[Object(M.jsx)(re,{label:"Updated On",value:y.toString(),heading:"File Details"}),Object(M.jsxs)(z.a,{className:"tab-content-row",children:[Object(M.jsx)(U.a,{component:"label",children:"About"}),Object(M.jsx)(ce,{chips:null===g||void 0===g||null===(o=g.graph_node)||void 0===o||null===(i=o.attributes)||void 0===i?void 0:i.isAbout})]}),Object(M.jsx)(re,{label:"Label",value:v}),void 0!==(null===g||void 0===g||null===(l=g.tree_node)||void 0===l?void 0:l.uri_human)?Object(M.jsx)(z.a,{className:"tab-content-row",children:Object(M.jsx)(de,{href:null===g||void 0===g||null===(d=g.tree_node)||void 0===d?void 0:d.uri_human,title:"Human URI"})}):Object(M.jsx)(M.Fragment,{children:" "}),void 0!==(null===g||void 0===g||null===(s=g.tree_node)||void 0===s?void 0:s.checksums)?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(re,{label:"Checksum",value:null===g||void 0===g||null===(c=g.tree_node)||void 0===c?void 0:c.checksums[0].hex}),Object(M.jsx)(re,{label:"Checksum Algorithm",value:null===g||void 0===g||null===(u=g.tree_node)||void 0===u?void 0:u.checksums[0].cypher})]}):Object(M.jsx)(M.Fragment,{children:" "}),Object(M.jsx)(z.a,{className:"tab-content-row",children:Object(M.jsx)(ae.a,{component:"nav","aria-label":"main",children:null===O||void 0===O?void 0:O.map((function(e,t){return Object(M.jsxs)(oe.a,{children:[Object(M.jsx)(U.a,{component:"label",children:null===e||void 0===e?void 0:e.title}),Object(M.jsx)(U.a,{children:null===e||void 0===e?void 0:e.value})]},"detail_list_".concat(t))}))})}),void 0!==(null===g||void 0===g||null===(p=g.graph_node)||void 0===p||null===(b=p.attributes)||void 0===b?void 0:b.hasUriHuman)?Object(M.jsxs)(z.a,{className:"tab-content-row",children:[Object(M.jsx)(U.a,{component:"label",children:"Links"}),Object(M.jsx)(de,{href:null===g||void 0===g||null===(h=g.graph_node)||void 0===h||null===(m=h.attributes)||void 0===m?void 0:m.hasUriHuman[0],title:"Dataset"},"detail_links_dataset")]}):Object(M.jsx)(M.Fragment,{children:" "})]})})},pe=function(e){var t=e.node,r="",n="";return(null===t||void 0===t?void 0:t.tree_node)&&(null===t||void 0===t?void 0:t.graph_node)?(r=t.graph_node.name,n=t.graph_node.id+N.f):(null===t||void 0===t?void 0:t.tree_node)?(r=t.tree_node.basename,n=t.tree_node.id+N.f):(r=t.graph_node.name,n=t.graph_node.id+N.f),Object(M.jsx)(z.a,{id:n,children:Object(M.jsx)(z.a,{className:"tab-content",children:Object(M.jsx)(re,{label:"Name",value:r.toString(),heading:"Contributor Details"})})})},be=function(e,t){return void 0!==t?t.map((function(r,n){return Object(M.jsx)(re,{label:e,value:t},e+"_key_"+n)})):Object(M.jsx)(M.Fragment,{children:" "})},he=function(e){var t,r,n,a,o,i,l,d,s,c,u,p,b=e.node,h="",m="";if((null===b||void 0===b?void 0:b.tree_node)&&(null===b||void 0===b?void 0:b.graph_node))m=b.tree_node.id+N.f,h=b.tree_node.basename;else if(null===b||void 0===b?void 0:b.graph_node){var g,v;m=b.graph_node.id+N.f,h=(null===(g=b.graph_node.attributes)||void 0===g?void 0:g.label)?null===(v=b.graph_node.attributes)||void 0===v?void 0:v.label[0]:""}else m=b.tree_node.id+N.f,h="Undefined Sample name";return Object(M.jsx)(z.a,{id:m,children:Object(M.jsxs)(z.a,{className:"tab-content",children:[Object(M.jsx)(re,{label:"Label",value:h,heading:"Sample Details"}),be("Assigned group",null===b||void 0===b||null===(t=b.graph_node)||void 0===t||null===(r=t.attributes)||void 0===r?void 0:r.hasAssignedGroup),Object(M.jsx)(z.a,{className:"tab-content-row",children:Object(M.jsx)(de,{href:null===b||void 0===b||null===(n=b.graph_node)||void 0===n||null===(a=n.attributes)||void 0===a?void 0:a.hasDerivedInformationAsParticipant,title:"Derived information as participant"})}),be("Digital artifact",null===b||void 0===b||null===(o=b.graph_node)||void 0===o||null===(i=o.attributes)||void 0===i?void 0:i.hasDigitalArtifactThatIsAboutIt),be("Participant in performance of",null===b||void 0===b||null===(l=b.graph_node)||void 0===l||null===(d=l.attributes)||void 0===d?void 0:d.participantInPerformanceOf),be("Derived from subject",null===b||void 0===b||null===(s=b.graph_node)||void 0===s||null===(c=s.attributes)||void 0===c?void 0:c.wasDerivedFromSubject),be("Extracted from Anatomical region",null===b||void 0===b||null===(u=b.graph_node)||void 0===u||null===(p=u.attributes)||void 0===p?void 0:p.wasExtractedFromAnatomicalRegion)]})})},me=function(e){var t,r,n,a,o,i,l,d,s,c,u,p,b,h=e.node,m=window.datasets[h.dataset_id].splinter.nodes,g="",v="";if((null===h||void 0===h?void 0:h.tree_node)&&(null===h||void 0===h?void 0:h.graph_node))v=(null===(p=h.graph_node)||void 0===p?void 0:p.id)+N.f,g=null===h||void 0===h||null===(b=h.graph_node.attributes)||void 0===b?void 0:b.label[0];else if(null===h||void 0===h?void 0:h.tree_node){var f,j;g=null===h||void 0===h||null===(f=h.tree_node)||void 0===f?void 0:f.basename,v=(null===h||void 0===h||null===(j=h.tree_node)||void 0===j?void 0:j.id)+N.f}else{var x,y,O;v=(null===(x=h.graph_node)||void 0===x?void 0:x.id)+N.f,g=null===(y=h.graph_node)||void 0===y||null===(O=y.attributes)||void 0===O?void 0:O.label[0]}var _,k="Not defined.";void 0!==(null===h||void 0===h||null===(t=h.graph_node)||void 0===t||null===(r=t.attributes)||void 0===r?void 0:r.latestUpdate)&&(k=new Date(null===(_=h.graph_node.attributes)||void 0===_?void 0:_.latestUpdate[0]));var w,C,S=[];void 0!==(null===(n=h.graph_node.attributes)||void 0===n?void 0:n.hasResponsiblePrincipalInvestigator)&&(null===(w=h.graph_node.attributes)||void 0===w||w.hasResponsiblePrincipalInvestigator.map((function(e){var t=m.get(e);return S.push({name:t.name,designation:"Principal Investigator",img:Q}),e})));void 0!==(null===(a=h.graph_node.attributes)||void 0===a?void 0:a.hasContactPerson)&&(null===(C=h.graph_node.attributes)||void 0===C||C.hasContactPerson.map((function(e){var t=m.get(e);return S.push({name:t.name,designation:"Contributor",img:Q}),e})));var T=[{title:"Error Index",value:null===(o=h.graph_node.attributes)||void 0===o?void 0:o.errorIndex},{title:"Template Schema Version",value:null===(i=h.graph_node.attributes)||void 0===i?void 0:i.hasDatasetTemplateSchemaVersion},{title:"Experiment Modality",value:null===(l=h.graph_node.attributes)||void 0===l?void 0:l.hasExperimentalModality}];return Object(M.jsx)(z.a,{id:v,children:Object(M.jsxs)(z.a,{className:"tab-content",children:[Object(M.jsx)(re,{label:"Updated On",value:k.toString(),heading:"Dataset Details"}),Object(M.jsxs)(z.a,{className:"tab-content-row",children:[Object(M.jsx)(U.a,{component:"label",children:"About"}),Object(M.jsx)(ce,{chips:null===(d=h.graph_node.attributes)||void 0===d?void 0:d.isAbout})]}),Object(M.jsx)(re,{label:"Label",value:g}),Object(M.jsx)(z.a,{className:"tab-content-row",children:Object(M.jsx)(ae.a,{component:"nav","aria-label":"main",children:null===T||void 0===T?void 0:T.map((function(e,t){return Object(M.jsxs)(oe.a,{children:[Object(M.jsx)(U.a,{component:"label",children:null===e||void 0===e?void 0:e.title}),Object(M.jsx)(U.a,{children:null===e||void 0===e?void 0:e.value})]},"detail_list_".concat(t))}))})}),void 0!==(null===(s=h.graph_node.attributes)||void 0===s?void 0:s.hasUriHuman)?Object(M.jsxs)(z.a,{className:"tab-content-row",children:[Object(M.jsx)(U.a,{component:"label",children:"Links"}),Object(M.jsx)(de,{href:null===(c=h.graph_node.attributes)||void 0===c?void 0:c.hasUriHuman[0],title:"Dataset"},"detail_links_dataset"),Object(M.jsx)(de,{href:null===(u=h.graph_node.attributes)||void 0===u?void 0:u.protocolEmploysTechnique,title:"Protocol Technique"},"detail_protocol_technique")]}):Object(M.jsx)(M.Fragment,{children:" "})]})})},ge=function(e){var t,r,n,a,o,i,l,d,s,c,u,p,b,h,m,g,v,f,j,x,y=e.node,O="",_="";if(y.tree_node&&y.graph_node)_=(null===y||void 0===y||null===(j=y.tree_node)||void 0===j?void 0:j.id)+N.f,O=null===y||void 0===y||null===(x=y.tree_node)||void 0===x?void 0:x.basename;else if(null===y||void 0===y?void 0:y.graph_node){var k;_=(null===y||void 0===y||null===(k=y.graph_node)||void 0===k?void 0:k.id)+N.f,O=y.graph_node.name}else _=y.tree_node.id+N.f,O=y.tree_node.basename;var w=function(e,t){t.map((function(e){return e}))},C=[],S=[],T=[];return void 0!==(null===(t=y.graph_node)||void 0===t||null===(r=t.attributes)||void 0===r?void 0:r.hasAssignedGroup)&&w(0,y.graph_node.attributes.hasAssignedGroup),void 0!==(null===(n=y.graph_node)||void 0===n||null===(a=n.attributes)||void 0===a?void 0:a.subjectSpecies)&&w(0,y.graph_node.attributes.subjectSpecies),void 0!==(null===(o=y.graph_node)||void 0===o||null===(i=o.attributes)||void 0===i?void 0:i.subjectStrain)&&w(0,y.graph_node.attributes.subjectStrain),Object(M.jsx)(z.a,{id:_,children:Object(M.jsxs)(z.a,{className:"tab-content",children:[Object(M.jsx)(re,{label:"Label",value:O,heading:"Subject Details"}),be("Age",null===y||void 0===y||null===(l=y.graph_node)||void 0===l||null===(d=l.attributes)||void 0===d?void 0:d.age),be("Age Category",null===y||void 0===y||null===(s=y.graph_node)||void 0===s||null===(c=s.attributes)||void 0===c?void 0:c.hasAgeCategory),be("Biological Sex",null===y||void 0===y||null===(u=y.graph_node)||void 0===u||null===(p=u.attributes)||void 0===p?void 0:p.biologicalSex),Object(M.jsx)(z.a,{className:"tab-content-row",children:Object(M.jsx)(de,{href:null===y||void 0===y||null===(b=y.graph_node)||void 0===b||null===(h=b.attributes)||void 0===h?void 0:h.hasDerivedInformationAsParticipant,title:"Derived information as participant"})}),Object(M.jsx)(z.a,{className:"tab-content-row",children:Object(M.jsx)(de,{href:null===y||void 0===y||null===(m=y.graph_node)||void 0===m||null===(g=m.attributes)||void 0===g?void 0:g.participantInPerformanceOf,title:"Participant in performance of"})}),be("Specimen identifier",null===y||void 0===y||null===(v=y.graph_node)||void 0===v||null===(f=v.attributes)||void 0===f?void 0:f.specimenHasIdentifier),C.length>0?Object(M.jsxs)(z.a,{className:"tab-content-row",children:[Object(M.jsx)(U.a,{component:"label",children:"Species"}),Object(M.jsx)(ce,{chips:C})]}):Object(M.jsx)(M.Fragment,{children:" "}),S.length>0?Object(M.jsxs)(z.a,{className:"tab-content-row",children:[Object(M.jsx)(U.a,{component:"label",children:"Strains"}),Object(M.jsx)(ce,{chips:S})]}):Object(M.jsx)(M.Fragment,{children:" "}),T.length>0?Object(M.jsxs)(z.a,{className:"tab-content-row",children:[Object(M.jsx)(U.a,{component:"label",children:"Assigned Groups"}),Object(M.jsx)(ce,{chips:T})]}):Object(M.jsx)(M.Fragment,{children:" "})]})})},ve=function(e){var t,r,n=e.node,a="",o="";if((null===n||void 0===n?void 0:n.tree_node)&&(null===n||void 0===n?void 0:n.graph_node))o=n.tree_node.id+N.f,a=n.tree_node.basename;else if(null===n||void 0===n?void 0:n.graph_node){var i;o=n.graph_node.id+N.f,a=null===(i=n.graph_node.attributes)||void 0===i?void 0:i.label[0]}else o=n.tree_node.id+N.f,a="Undefined protocol";return Object(M.jsx)(z.a,{id:o,children:Object(M.jsxs)(z.a,{className:"tab-content",children:[Object(M.jsx)(re,{label:"Label",value:a,heading:"Protocol Details"}),be("Number of steps",null===n||void 0===n||null===(t=n.graph_node)||void 0===t||null===(r=t.attributes)||void 0===r?void 0:r.protocolHasNumberOfSteps)]})})},fe=function(e){var t,r,n=e.node,a="",o="";if((null===n||void 0===n?void 0:n.tree_node)&&(null===n||void 0===n?void 0:n.graph_node))a=null===(t=n.graph_node)||void 0===t?void 0:t.name,o=(null===(r=n.graph_node)||void 0===r?void 0:r.id)+N.f;else if(null===n||void 0===n?void 0:n.tree_node){var i,l;a=null===(i=n.tree_node)||void 0===i?void 0:i.basename,o=(null===(l=n.tree_node)||void 0===l?void 0:l.id)+N.f}else{var d,s;a=null===(d=n.graph_node)||void 0===d?void 0:d.name,o=(null===(s=n.graph_node)||void 0===s?void 0:s.id)+N.f}return Object(M.jsx)(z.a,{className:"secondary-sidebar_body",id:o,children:Object(M.jsx)(z.a,{className:"tab-content",children:Object(M.jsx)(re,{label:"Label",value:a,heading:"Collection Details"})})})},je=function(e){var t={node:e,getHeader:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(te,{node:e})})},getDetail:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(fe,{node:e})})},getAll:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(te,{node:e}),Object(M.jsx)(fe,{node:e})]})}};return t},xe=function(e){var t={node:e,getHeader:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(K,{node:e})})},getDetail:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(me,{node:e})})},getAll:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(K,{node:e}),Object(M.jsx)(me,{node:e})]})}};return t},ye=function(e){var t={node:e,getHeader:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(ee,{node:e})})},getDetail:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(ve,{node:e})})},getAll:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(ee,{node:e}),Object(M.jsx)(ve,{node:e})]})}};return t},Oe=function(e){var t={node:e,getHeader:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(te,{node:e})})},getDetail:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(he,{node:e})})},getAll:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(te,{node:e}),Object(M.jsx)(he,{node:e})]})}};return t},_e=function(e){var t={node:e,getHeader:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(te,{node:e})})},getDetail:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(ge,{node:e})})},getAll:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(te,{node:e}),Object(M.jsx)(ge,{node:e})]})}};return t},ke=function(e){var t={node:e,getHeader:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(Y,{node:e})})},getDetail:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(ue,{node:e})})},getAll:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Y,{node:e}),Object(M.jsx)(ue,{node:e})]})}};return t},we=function(e){var t={node:e,getHeader:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(Z,{node:e})})},getDetail:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(pe,{node:e})})},getAll:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Z,{node:e}),Object(M.jsx)(pe,{node:e})]})}};return t},Ce=function(e){var t={node:e,getHeader:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(J,{node:e})})},getDetail:function(){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(ne,{node:e})})},getAll:function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{node:e}),Object(M.jsx)(ne,{node:e})]})}};return t},Se=function(){this.createDetails=function(e){var t=null;switch(void 0!==e.graph_node&&null!==e.graph_node?e.graph_node.type:e.tree_node.type){case L.a.Collection.key:t=new je(e);break;case L.a.Dataset.key:t=new xe(e);break;case L.a.Protocol.key:t=new ye(e);break;case L.a.Sample.key:t=new Oe(e);break;case L.a.Subject.key:t=new _e(e);break;case L.a.File.key:t=new ke(e);break;case L.a.Person.key:t=new we(e);break;default:t=new Ce(e)}return t}},Te=r.p+"static/media/divider.8e18e6d1.svg",Ie=r(469),Ne=function(e){var t,r=e.links,n=function(e){document.getElementById(e+N.f).scrollIntoView({behavior:"smooth"})};return Object(M.jsx)(z.a,{className:"wrap",children:Object(M.jsxs)(Ie.a,{separator:Object(M.jsx)("img",{src:Te,alt:"DIVIDER"}),"aria-label":"breadcrumb",children:[r&&r.pages?null===r||void 0===r||null===(t=r.pages)||void 0===t?void 0:t.map((function(e,t){return Object(M.jsx)(ie.a,{color:"inherit",onClick:function(){n(e.id)},children:null===e||void 0===e?void 0:e.title},"breadcrumb_".concat(null===e||void 0===e?void 0:e.title,"_").concat(t))})):null,Object(M.jsx)(U.a,{onClick:function(){n(null===r||void 0===r?void 0:r.current.id)},color:"textPrimary",children:null===r||void 0===r?void 0:r.current.text})]})})},Me={graphComponent:R,nodeView:function(e){var t=void 0,r=new Se,n=Object(w.c)((function(e){return e.sdsState.instance_selected})),a=r.createDetails(n),o={pages:[],current:{id:void 0,text:""}},i=[];if(void 0!==n.tree_node&&null!==n.tree_node)(i=Object(B.a)(n.tree_node.path)).shift(),t=i.reverse().map((function(e){var t=window.datasets[n.dataset_id].splinter.tree_map.get(e),a={dataset_id:n.dataset_id,graph_node:t.graph_reference,tree_node:t};return a.tree_node.id!==N.h&&a.tree_node.id!==N.e&&a.tree_node.id!==N.g&&"primary"!==a.tree_node.basename&&"derivative"!==a.tree_node.basename?(o.pages.push({id:e,title:t.text,href:"#"}),r.createDetails(a).getDetail()):Object(M.jsx)(M.Fragment,{children:" "})})),o.current={id:n.tree_node.id,text:n.tree_node.text};else{i=[];for(var l=n;void 0!==l.graph_node.parent;)i.push(l.graph_node.parent.id),l={tree_node:void 0,graph_node:l.graph_node.parent};t=i.reverse().map((function(e){var t=window.datasets[n.dataset_id].splinter.nodes.get(e),a={dataset_id:n.dataset_id,graph_node:t,tree_node:t.tree_reference};return a.graph_node.id!==N.h&&a.graph_node.id!==N.e&&a.graph_node.id!==N.g?(o.pages.push({id:e,title:t.name,href:"#"}),r.createDetails(a).getDetail()):Object(M.jsx)(M.Fragment,{children:" "})})),o.current={id:n.graph_node.id,text:n.graph_node.name}}return Object(M.jsxs)(z.a,{className:"secondary-sidebar"+(e.open?" in":""),children:[Object(M.jsx)(z.a,{className:"secondary-sidebar_breadcrumb",children:Object(M.jsx)(Ne,{close:!1,links:o})}),a.getHeader(),t,a.getDetail(),Object(M.jsx)(W,{})]})}},De=r(26);var Ee={sdsState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.c:if(void 0!==t.data){var r=window.datasets[t.data.dataset_id].splinter,n=r.nodes.get(t.data.graph_node),a=r.tree_map.get(t.data.tree_node);return Object(De.a)(Object(De.a)({},e),{},{instance_selected:{dataset_id:t.data.dataset_id,graph_node:n||null,tree_node:a||null,source:t.data.source}})}break;case c.a:if(void 0===t.data||e.datasets.includes(t.data.dataset.id))return e;void 0===window.datasets&&(window.datasets={}),window.datasets[t.data.dataset.id]={graph:t.data.dataset.graph,tree:t.data.dataset.tree,splinter:t.data.dataset.splinter};var o=[].concat(Object(B.a)(e.datasets),[t.data.dataset.id]);return Object(De.a)(Object(De.a)({},e),{},{datasets:o,instance_selected:{dataset_id:t.data.dataset.id,graph_node:t.data.dataset.graph.nodes[0],tree_node:t.data.dataset.graph.nodes[0].tree_reference}});case c.b:if(void 0!==t.data){delete window.datasets[t.data.dataset_id];var i=e.datasets.indexOf(t.data.dataset_id),l=[].concat(Object(B.a)(e.datasets.slice(0,i)),Object(B.a)(e.datasets.slice(i+1)));return Object(De.a)(Object(De.a)({},e),{},{datasets:l})}break;case c.d:if(void 0!==t.data.error_message)return Object(De.a)(Object(De.a)({},e),{},{error_message:t.data.error_message});break;case s.layoutActions.SET_LAYOUT:return Object(De.a)(Object(De.a)({},e),{},{layout:t.data.layout});default:return e}}},Fe=Object(d.createStore)(Ee,{sdsState:{datasets:[],all_tree:[],error_message:null,instance_selected:{dataset_id:null,graph_node:null,tree_node:null,source:""},layout:{}}},[function(e){return function(t){return function(r){switch(r.type){case s.layoutActions.REMOVE_WIDGET:var n=r.data.id;e.getState().sdsState.datasets.includes(n)&&e.dispatch(c.f(n));break;case s.layoutActions.SET_LAYOUT:case c.a:case c.b:case c.c:}t(r)}}}],{baseLayout:{global:{tabEnableClose:!0,tabSetHeaderHeight:18,tabSetTabStripHeight:18,enableEdgeDock:!1,sideBorders:8},layout:{type:"tabset",weight:100,id:"root",children:[{type:"row",weight:70,children:[{type:"tabset",weight:100,id:"leftPanel",enableDeleteWhenEmpty:!1,children:[]}]},{type:"row",weight:30,children:[{type:"tabset",weight:100,id:"rightPanel",enableDeleteWhenEmpty:!1,enableDrop:!1,enableDrag:!1,enableDivide:!1,enableMaximize:!1,enableTabStrip:!1,tabStripHeight:"0px",children:[]}]}]}},componentMap:Me});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(w.a,{store:Fe,children:Object(M.jsx)(l.a,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return a})),r.d(t,"f",(function(){return o})),r.d(t,"h",(function(){return i})),r.d(t,"g",(function(){return l})),r.d(t,"e",(function(){return d})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return c}));var n="Import a new dataset",a={acceptedFileExtensions:[".json",".ttl"],maxFileSize:5242880,maxFiles:6},o="_details",i="all_subjects",l="all_protocols",d="all_contributors",s="GRAPH",c="TREE"}},[[392,1,2]]]);
//# sourceMappingURL=main.fa34ddcc.chunk.js.map